<!doctype tiretml>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>OPSCOPE - Sistema de Gestão Operacional e Manutenção</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="assets/css/login.css" />
  </head>
  <body class="is-visitor">
    <div id="loadingOverlay" class="loading-overlay" hidden>
      <div class="loading-spinner" role="status" aria-live="polite">
        <span class="loading-dot"></span>
        <span class="loading-dot"></span>
        <span class="loading-dot"></span>
      </div>
    </div>
    <div class="auth-layout visitor-only">
      <section id="authPanels" class="auth-panels auth-panels--dual" hidden>
        <div class="auth-tabs auth-tabs--hidden">
          <button id="btnTabLogin" class="auth-tab btn btn--ghost btn--small" type="button">
            Entrar
          </button>
          <button id="btnTabRegistro" class="auth-tab btn btn--primary btn--small" type="button">
            Registrar
          </button>
        </div>
        <div class="auth-shell">
          <div class="auth-panel auth-panel--left auth-card">
            <div class="auth-brand">
              <div>
                <div class="auth-brand__row">
                  <span class="auth-brand__logo">
                    <img class="auth-brand__logo-img" src="assets/img/opscope-logo.png" alt="OPSCOPE" />
                  </span>
                </div>
                <span class="auth-brand__tagline">
                  Vis&atilde;o Total da Opera&ccedil;&atilde;o e Manuten&ccedil;&atilde;o.
                </span>
              </div>
            </div>
            <form id="loginForm" class="auth-form auth-form--login" data-auth-panel="login" hidden>
              <h3>Acesso seguro</h3>
              <div class="field">
                <label for="loginUsuario">Usu&aacute;rio ou Matr&iacute;cula</label>
                <div class="input-wrap has-icon-left">
                  <span class="input-icon left" aria-hidden="true">
                    <svg viewBox="0 0 24 24" focusable="false">
                      <path
                        d="M12 12a4 4 0 1 0-4-4 4 4 0 0 0 4 4Zm0 2c-4.4 0-8 2.2-8 4.8V21h16v-2.2c0-2.6-3.6-4.8-8-4.8Z"
                        fill="currentColor"
                      />
                    </svg>
                  </span>
                  <input
                    id="loginUsuario"
                    type="text"
                    placeholder="Matr&iacute;cula ou usu&aacute;rio"
                    autocomplete="username"
                  />
                </div>
              </div>
              <div class="field field--password">
                <label for="loginSenha">Senha</label>
                <div class="input-wrap has-icon-left has-icon-right">
                  <span class="input-icon left" aria-hidden="true">
                    <svg viewBox="0 0 24 24" focusable="false">
                      <path
                        d="M7 10V7a5 5 0 0 1 10 0v3h1a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h1Zm2 0h6V7a3 3 0 0 0-6 0v3Z"
                        fill="currentColor"
                      />
                    </svg>
                  </span>
                  <input id="loginSenha" type="password" placeholder="Senha" autocomplete="current-password" />
                  <button
                    id="btnToggleLoginSenha"
                    class="icon-btn toggle-password"
                    type="button"
                    aria-label="Mostrar senha"
                    aria-pressed="false"
                  >
                    <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                      <path
                        class="eye-open"
                        d="M1.5 12s4.5-7 10.5-7 10.5 7 10.5 7-4.5 7-10.5 7S1.5 12 1.5 12Z"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="1.6"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                      <circle
                        class="eye-open"
                        cx="12"
                        cy="12"
                        r="3.5"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="1.6"
                      />
                      <path
                        class="eye-closed"
                        d="M4 5.5 20 19.5"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="1.6"
                        stroke-linecap="round"
                      />
                      <path
                        class="eye-closed"
                        d="M6.8 7.4A10.7 10.7 0 0 1 12 6c6 0 10 6 10 6a18 18 0 0 1-3.9 4.4"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="1.6"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                      <path
                        class="eye-closed"
                        d="M4.8 16.6A10.7 10.7 0 0 1 2 12s1.4-2.4 3.9-4.6"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="1.6"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                      <path
                        class="eye-closed"
                        d="M9.6 9.6a3 3 0 0 0 4.8 4.8"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="1.6"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                  </button>
                </div>
                <small id="capsLockLogin" class="caps-hint" hidden>Caps Lock ativado</small>
              </div>
              <div class="auth-actions">
                <button id="btnLoginSubmit" class="btn btn--primary" type="submit">Entrar</button>
                <a class="auth-link auth-link--light" href="#">Esqueceu sua senha?</a>
              </div>
            </form>
            <p id="mensagemConta" class="mensagem" aria-live="polite"></p>
            <div class="auth-footer">
              <span class="status-dot" aria-hidden="true"></span>
              <span>Acessos auditados e registrados</span>
            </div>
          </div>
          <div class="auth-panel auth-panel--right auth-card">
            <p class="auth-kicker">Ainda n&atilde;o tem acesso? Solicite uma conta.</p>
            <form id="reqForm" class="auth-form auth-form--register" data-auth-panel="registro" hidden>
              <h3>Registrar</h3>
              <div class="field">
                <label for="reqNome">Nome completo</label>
                <div class="input-wrap has-icon-left">
                  <span class="input-icon left" aria-hidden="true">
                    <svg viewBox="0 0 24 24" focusable="false">
                      <path
                        d="M12 12a4 4 0 1 0-4-4 4 4 0 0 0 4 4Zm0 2c-4.4 0-8 2.2-8 4.8V21h16v-2.2c0-2.6-3.6-4.8-8-4.8Z"
                        fill="currentColor"
                      />
                    </svg>
                  </span>
                  <input id="reqNome" type="text" placeholder="Nome completo" autocomplete="name" />
                </div>
              </div>
              <div class="field">
                <label for="reqMatricula">E-mail corporativo</label>
                <div class="input-wrap has-icon-left">
                  <span class="input-icon left" aria-hidden="true">
                    <svg viewBox="0 0 24 24" focusable="false">
                      <path
                        d="M4 6h16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2Zm0 2 8 5 8-5H4Z"
                        fill="currentColor"
                      />
                    </svg>
                  </span>
                  <input
                    id="reqMatricula"
                    type="email"
                    placeholder="nome.sobrenome@engelmig.com.br"
                    autocomplete="email"
                  />
                </div>
              </div>
              <div class="field">
                <label for="reqTelefone">Telefone (com DDD)</label>
                <div class="input-wrap has-icon-left">
                  <span class="input-icon left" aria-hidden="true">
                    <svg viewBox="0 0 24 24" focusable="false">
                      <path
                        d="M6.6 10.8a15.1 15.1 0 0 0 6.6 6.6l2.2-2.2a1 1 0 0 1 1-.2 11.7 11.7 0 0 0 3.6.6 1 1 0 0 1 1 1v3.4a1 1 0 0 1-1 1A18 18 0 0 1 3 5a1 1 0 0 1 1-1h3.4a1 1 0 0 1 1 1 11.7 11.7 0 0 0 .6 3.6 1 1 0 0 1-.2 1Z"
                        fill="currentColor"
                      />
                    </svg>
                  </span>
                  <input id="reqTelefone" type="tel" placeholder="(00) 00000-0000" autocomplete="tel" />
                </div>
              </div>
              <div class="field">
                <label for="reqMotivo">Motivo do acesso</label>
                <div class="input-wrap has-icon-left">
                  <span class="input-icon left" aria-hidden="true">
                    <svg viewBox="0 0 24 24" focusable="false">
                      <path
                        d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H8l-4 4V6a2 2 0 0 1 2-2Zm3 5h6v2H9V9Zm0 4h6v2H9v-2Z"
                        fill="currentColor"
                      />
                    </svg>
                  </span>
                  <textarea id="reqMotivo" rows="2" placeholder="Descreva o motivo do acesso"></textarea>
                </div>
              </div>
              <div class="field field--password">
                <label for="reqSenha">Senha</label>
                <div class="input-wrap has-icon-left has-icon-right">
                  <span class="input-icon left" aria-hidden="true">
                    <svg viewBox="0 0 24 24" focusable="false">
                      <path
                        d="M7 10V7a5 5 0 0 1 10 0v3h1a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h1Zm2 0h6V7a3 3 0 0 0-6 0v3Z"
                        fill="currentColor"
                      />
                    </svg>
                  </span>
                  <input id="reqSenha" type="password" placeholder="Senha" autocomplete="new-password" />
                  <button
                    id="btnToggleReqSenha"
                    class="icon-btn toggle-password"
                    type="button"
                    aria-label="Mostrar senha"
                    aria-pressed="false"
                  >
                    <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                      <path
                        class="eye-open"
                        d="M1.5 12s4.5-7 10.5-7 10.5 7 10.5 7-4.5 7-10.5 7S1.5 12 1.5 12Z"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="1.6"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                      <circle
                        class="eye-open"
                        cx="12"
                        cy="12"
                        r="3.5"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="1.6"
                      />
                      <path
                        class="eye-closed"
                        d="M4 5.5 20 19.5"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="1.6"
                        stroke-linecap="round"
                      />
                      <path
                        class="eye-closed"
                        d="M6.8 7.4A10.7 10.7 0 0 1 12 6c6 0 10 6 10 6a18 18 0 0 1-3.9 4.4"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="1.6"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                      <path
                        class="eye-closed"
                        d="M4.8 16.6A10.7 10.7 0 0 1 2 12s1.4-2.4 3.9-4.6"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="1.6"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                      <path
                        class="eye-closed"
                        d="M9.6 9.6a3 3 0 0 0 4.8 4.8"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="1.6"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                  </button>
                </div>
                <small id="capsLockRegistro" class="caps-hint" hidden>Caps Lock ativado</small>
                <ul id="reqSenhaRules" class="password-rules">
                  <li data-rule="length">Minimo 12 caracteres</li>
                  <li data-rule="upper">1 letra maiuscula</li>
                  <li data-rule="lower">1 letra minuscula</li>
                  <li data-rule="number">1 numero</li>
                  <li data-rule="symbol">1 simbolo</li>
                </ul>
                <p id="reqSenhaErro" class="field-error" hidden></p>
              </div>
              <div class="field field--password">
                <label for="reqSenhaConfirm">Confirmar senha</label>
                <div class="input-wrap has-icon-left has-icon-right">
                  <span class="input-icon left" aria-hidden="true">
                    <svg viewBox="0 0 24 24" focusable="false">
                      <path
                        d="M7 10V7a5 5 0 0 1 10 0v3h1a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h1Zm2 0h6V7a3 3 0 0 0-6 0v3Z"
                        fill="currentColor"
                      />
                    </svg>
                  </span>
                  <input id="reqSenhaConfirm" type="password" placeholder="Confirmar senha" autocomplete="new-password" />
                  <button
                    id="btnToggleReqSenhaConfirm"
                    class="icon-btn toggle-password"
                    type="button"
                    aria-label="Mostrar senha"
                    aria-pressed="false"
                  >
                    <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                      <path
                        class="eye-open"
                        d="M1.5 12s4.5-7 10.5-7 10.5 7 10.5 7-4.5 7-10.5 7S1.5 12 1.5 12Z"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="1.6"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                      <circle
                        class="eye-open"
                        cx="12"
                        cy="12"
                        r="3.5"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="1.6"
                      />
                      <path
                        class="eye-closed"
                        d="M4 5.5 20 19.5"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="1.6"
                        stroke-linecap="round"
                      />
                      <path
                        class="eye-closed"
                        d="M6.8 7.4A10.7 10.7 0 0 1 12 6c6 0 10 6 10 6a18 18 0 0 1-3.9 4.4"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="1.6"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                      <path
                        class="eye-closed"
                        d="M4.8 16.6A10.7 10.7 0 0 1 2 12s1.4-2.4 3.9-4.6"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="1.6"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                      <path
                        class="eye-closed"
                        d="M9.6 9.6a3 3 0 0 0 4.8 4.8"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="1.6"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                  </button>
                </div>
                <p id="reqSenhaConfirmErro" class="field-error" hidden></p>
              </div>
              <div class="field">
                <label for="reqCodigoConvite">Código de convite</label>
                <div class="input-wrap has-icon-left">
                  <span class="input-icon left" aria-hidden="true">
                    <svg viewBox="0 0 24 24" focusable="false">
                      <path
                        d="M12 3a4 4 0 0 1 4 4v3h2a2 2 0 0 1 2 2v2h-2v6a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2v-6H4v-2a2 2 0 0 1 2-2h2V7a4 4 0 0 1 4-4Zm0 2a2 2 0 0 0-2 2v3h4V7a2 2 0 0 0-2-2Z"
                        fill="currentColor"
                      />
                    </svg>
                  </span>
                  <input id="reqCodigoConvite" type="text" placeholder="Codigo enviado pelo admin" />
                </div>
                <p id="reqCodigoErro" class="field-error" hidden></p>
              </div>
              <button id="btnRegistroSubmit" class="btn btn--primary" type="submit">
                Solicitar acesso
              </button>
              <p class="auth-helper">
                Sua solicita&ccedil;&atilde;o ser&aacute; encaminhada ao PCM/O&amp;M respons&aacute;vel.
              </p>
            </form>
          </div>
        </div>
        <div class="auth-footer-global">
          <span>Acessos auditados e registrados</span>
          <span class="auth-sep">|</span>
          <a class="auth-link" href="#">Ajuda</a>
          <span class="auth-sep">|</span>
          <a class="auth-link" href="#">Pol&iacute;tica de Privacidade</a>
          <span class="auth-sep">|</span>
          <a class="auth-link" href="#">Termos</a>
        </div>
      </section>
    </div>
    <div class="app app-shell auth-only">
      <aside class="sidebar" id="sidebar" data-state="expanded">
        <div class="sidebar__brand">
          <div class="brand">
            <div class="brand__logo">OPSCOPE</div>
            <div class="brand__tagline">OPERA&Ccedil;&Atilde;O SOB MICROSC&Oacute;PIO</div>
          </div>
        </div>
        <nav class="sidebar__nav" aria-label="Navegacao principal">
          <section class="nav-group" data-group="favoritos">
            <button class="nav-group__header" type="button" aria-expanded="true">
              <span class="nav-group__title">
                <svg class="ico" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                  <path
                    d="M12 3.5 14.9 9l6 0.9-4.4 4.3 1 6-5.5-2.9-5.5 2.9 1-6L3.1 9 9.1 9 12 3.5Z"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.6"
                    stroke-linejoin="round"
                  />
                </svg>
                <span class="nav-group__text">Favoritos</span>
              </span>
              <span class="nav-group__chev">▾</span>
            </button>
            <div class="nav-group__body">
              <button class="nav-item is-active" type="button" data-tab="inicio" data-tooltip="Inicio">
                <span class="nav-item__ico">
                  <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <path
                      d="M3 11.5 12 4l9 7.5v7.5a1 1 0 0 1-1 1h-5v-6H9v6H4a1 1 0 0 1-1-1z"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.6"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                </span>
                <span class="nav-item__label">Inicio</span>
                <span class="nav-item__meta"></span>
              </button>
            </div>
          </section>
          <section class="nav-group" data-group="planejamento">
            <button class="nav-group__header" type="button" aria-expanded="true">
              <span class="nav-group__title">
                <svg class="ico" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                  <path
                    d="M7 3v3M17 3v3M4 9h16M5 6h14a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2Z"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.6"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
                <span class="nav-group__text">Planejamento</span>
              </span>
              <span class="nav-group__chev">▾</span>
            </button>
            <div class="nav-group__body">
              <button class="nav-item" type="button" data-tab="programacao" data-tooltip="Programacao">
                <span class="nav-item__ico">
                  <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <path
                      d="M7 3v3M17 3v3M4 9h16M5 6h14a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2Z"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.6"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                </span>
                <span class="nav-item__label">Programação</span>
                <span class="nav-item__meta"></span>
              </button>
              <button class="nav-item" type="button" data-tab="nova" data-tooltip="Nova manutencao">
                <span class="nav-item__ico">
                  <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <path
                      d="M12 5v14M5 12h14"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.8"
                      stroke-linecap="round"
                    />
                  </svg>
                </span>
                <span class="nav-item__label">Nova manutencao</span>
                <span class="nav-item__meta"></span>
              </button>
              <button class="nav-item" type="button" data-tab="modelos" data-tooltip="Modelos & Recorrencias">
                <span class="nav-item__ico">
                  <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <path
                      d="M12 4 3 8l9 4 9-4-9-4Z"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.6"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M3 12l9 4 9-4"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.6"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M3 16l9 4 9-4"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.6"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                </span>
                <span class="nav-item__label">Modelos & Recorrencias</span>
                <span class="nav-item__meta"></span>
              </button>
            </div>
          </section>
          <section class="nav-group" data-group="execucao">
            <button class="nav-group__header" type="button" aria-expanded="true">
              <span class="nav-group__title">
                <svg class="ico" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                  <path
                    d="M9 5h6l1 2h3a1 1 0 0 1 1 1v11a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V8a1 1 0 0 1 1-1h3l1-2Z"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.6"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M9 12l2 2 4-4"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.6"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
                <span class="nav-group__text">Execucao</span>
              </span>
              <span class="nav-group__chev">▾</span>
            </button>
            <div class="nav-group__body">
              <button class="nav-item" type="button" data-tab="execucao" data-tooltip="Execucao do dia">
                <span class="nav-item__ico">
                  <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <path
                      d="M9 5h6l1 2h3a1 1 0 0 1 1 1v11a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V8a1 1 0 0 1 1-1h3l1-2Z"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.6"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M9 12l2 2 4-4"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.6"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                </span>
                <span class="nav-item__label">Execucao do dia</span>
                <span class="nav-item__meta"></span>
              </button>
              <button class="nav-item" type="button" data-tab="backlog" data-tooltip="Backlog">
                <span class="nav-item__ico">
                  <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <path
                      d="M6 7h12M6 12h12M6 17h8"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.6"
                      stroke-linecap="round"
                    />
                  </svg>
                </span>
                <span class="nav-item__label">Backlog</span>
                <span class="nav-item__meta">
                  <span class="badge badge--neutral" id="badgeBacklog">0</span>
                </span>
              </button>
              <button class="nav-item" type="button" data-tab="projetos" data-tooltip="Locais de trabalho">
                <span class="nav-item__ico">
                  <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <path
                      d="M4 7h6l2 2h8v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2Z"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.6"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                </span>
                <span class="nav-item__label">Locais de trabalho</span>
                <span class="nav-item__meta"></span>
              </button>
              <button class="nav-item" type="button" data-tab="solicitacoes" data-tooltip="Solicitacoes pendentes" data-admin-only>
                <span class="nav-item__ico">
                  <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <path
                      d="M4 6h16v10a2 2 0 0 1-2 2H8l-4 4V6Z"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.6"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M7 10h10M7 14h6"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.6"
                      stroke-linecap="round"
                    />
                  </svg>
                </span>
                <span class="nav-item__label">Solicitacoes pendentes</span>
                <span class="nav-item__meta">
                  <span class="badge badge--warn">0</span>
                </span>
              </button>
            </div>
          </section>
          <section class="nav-group" data-group="analise">
            <button class="nav-group__header" type="button" aria-expanded="true">
              <span class="nav-group__title">
                <svg class="ico" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                  <path
                    d="M4 19h16M7 15v-5M12 15V7M17 15v-3"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.6"
                    stroke-linecap="round"
                  />
                </svg>
                <span class="nav-group__text">Analise</span>
              </span>
              <span class="nav-group__chev">▾</span>
            </button>
            <div class="nav-group__body">
              <button class="nav-item" type="button" data-tab="desempenho" data-tooltip="Desempenho">
                <span class="nav-item__ico">
                  <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <path
                      d="M4 19h16M7 15v-5M12 15V7M17 15v-3"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.6"
                      stroke-linecap="round"
                    />
                  </svg>
                </span>
                <span class="nav-item__label">Desempenho</span>
                <span class="nav-item__meta"></span>
              </button>
              <button class="nav-item" type="button" data-tab="performance-projects" data-tooltip="Desempenho por projeto">
                <span class="nav-item__ico">
                  <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <path
                      d="M4 7h16M4 12h10M4 17h16"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.6"
                      stroke-linecap="round"
                    />
                  </svg>
                </span>
                <span class="nav-item__label">Desempenho por projeto</span>
                <span class="nav-item__meta"></span>
              </button>
              <button class="nav-item" type="button" data-tab="performance-people" data-tooltip="Desempenho por colaborador">
                <span class="nav-item__ico">
                  <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <path
                      d="M12 12a4 4 0 1 0-4-4 4 4 0 0 0 4 4Zm0 2c-4.4 0-8 2.2-8 4.8V21h16v-2.2c0-2.6-3.6-4.8-8-4.8Z"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.6"
                    />
                  </svg>
                </span>
                <span class="nav-item__label">Desempenho por colaborador</span>
                <span class="nav-item__meta"></span>
              </button>
              <button class="nav-item" type="button" data-tab="tendencias" data-tooltip="KPIs & Tendencias">
                <span class="nav-item__ico">
                  <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <path
                      d="M4 16l6-6 4 4 6-7"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.6"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M16 7h4v4"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.6"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                </span>
                <span class="nav-item__label">KPIs & Tendencias</span>
                <span class="nav-item__meta"></span>
              </button>
              <button class="nav-item" type="button" data-tab="relatorios" data-tooltip="Relatorios">
                <span class="nav-item__ico">
                  <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <path
                      d="M7 4h7l4 4v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2Z"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.6"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M14 4v4h4"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.6"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M8 13h8M8 17h5"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.6"
                      stroke-linecap="round"
                    />
                  </svg>
                </span>
                <span class="nav-item__label">Relatorios</span>
                <span class="nav-item__meta"></span>
              </button>
            </div>
          </section>
          <section class="nav-group" data-group="pessoas">
            <button class="nav-group__header" type="button" aria-expanded="true">
              <span class="nav-group__title">
                <svg class="ico" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                  <path
                    d="M5 7h14M5 12h14M5 17h9"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.6"
                    stroke-linecap="round"
                  />
                </svg>
                <span class="nav-group__text">Pessoas</span>
              </span>
              <span class="nav-group__chev">ƒ-ó</span>
            </button>
            <div class="nav-group__body">
              <button class="nav-item" type="button" data-tab="feedbacks" data-tooltip="Feedbacks">
                <span class="nav-item__ico">
                  <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <path
                      d="M5 5h14v10H7l-2 2V5Z"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.6"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M8 9h8M8 12h5"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.6"
                      stroke-linecap="round"
                    />
                  </svg>
                </span>
                <span class="nav-item__label">Feedbacks</span>
                <span class="nav-item__meta">
                  <span class="badge badge--warn" id="feedbackBadge" hidden>0</span>
                </span>
              </button>
            </div>
          </section>
          <section class="nav-group" data-group="governanca" data-admin-only>
            <button class="nav-group__header" type="button" aria-expanded="true">
              <span class="nav-group__title">
                <svg class="ico" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                  <path
                    d="M12 3 20 6v6c0 5-3.5 8-8 9-4.5-1-8-4-8-9V6l8-3Z"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.6"
                    stroke-linejoin="round"
                  />
                </svg>
                <span class="nav-group__text">Governanca</span>
              </span>
              <span class="nav-group__chev">▾</span>
            </button>
            <div class="nav-group__body">
              <button class="nav-item" type="button" data-tab="rastreabilidade" data-tooltip="Rastreabilidade" data-admin-only>
                <span class="nav-item__ico">
                  <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <path
                      d="M12 3 20 6v6c0 5-3.5 8-8 9-4.5-1-8-4-8-9V6l8-3Z"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.6"
                      stroke-linejoin="round"
                    />
                  </svg>
                </span>
                <span class="nav-item__label">Rastreabilidade operacional</span>
                <span class="nav-item__meta"></span>
              </button>
              <button class="nav-item" type="button" data-tab="gerencial" data-tooltip="Painel gerencial" data-admin-only>
                <span class="nav-item__ico">
                  <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <path
                      d="M5 19a7 7 0 1 1 14 0"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.6"
                      stroke-linecap="round"
                    />
                    <path
                      d="M12 12v5M12 12l4-4"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.6"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <circle cx="12" cy="12" r="1.4" fill="currentColor" />
                  </svg>
                </span>
                <span class="nav-item__label">Painel gerencial</span>
                <span class="nav-item__meta"></span>
              </button>
              <button class="nav-item" type="button" data-tab="contas" data-tooltip="Contas ativas" data-admin-only>
                <span class="nav-item__ico">
                  <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <path
                      d="M7 16a4 4 0 0 1 8 0v3H7v-3Z"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.6"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <circle cx="11" cy="8" r="3" fill="none" stroke="currentColor" stroke-width="1.6" />
                    <path
                      d="M16 18a3 3 0 0 1 3-3"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.6"
                      stroke-linecap="round"
                    />
                    <circle cx="18.5" cy="9" r="2.5" fill="none" stroke="currentColor" stroke-width="1.6" />
                  </svg>
                </span>
                <span class="nav-item__label">Contas ativas</span>
                <span class="nav-item__meta">
                  <span class="badge badge--neutral">0</span>
                </span>
              </button>
            </div>
          </section>
          <section class="nav-group" data-group="conta">
            <button class="nav-group__header" type="button" aria-expanded="true">
              <span class="nav-group__title">
                <svg class="ico" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                  <path
                    d="M12 12a4 4 0 1 0-4-4 4 4 0 0 0 4 4Zm0 2c-4.4 0-8 2.2-8 4.8V21h16v-2.2c0-2.6-3.6-4.8-8-4.8Z"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.6"
                  />
                </svg>
                <span class="nav-group__text">Conta</span>
              </span>
              <span class="nav-group__chev">▾</span>
            </button>
            <div class="nav-group__body">
              <button class="nav-item" type="button" data-tab="perfil" data-tooltip="Meu perfil">
                <span class="nav-item__ico">
                  <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <path
                      d="M12 12a4 4 0 1 0-4-4 4 4 0 0 0 4 4Zm0 2c-4.4 0-8 2.2-8 4.8V21h16v-2.2c0-2.6-3.6-4.8-8-4.8Z"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.6"
                    />
                  </svg>
                </span>
                <span class="nav-item__label">Meu perfil</span>
                <span class="nav-item__meta"></span>
              </button>
            </div>
          </section>
        </nav>
      </aside>
      <div class="backdrop" id="sidebarBackdrop" hidden></div>
      <div class="main">
        <header class="topbar">
          <button class="icon-btn" id="btnSidebar" type="button" aria-label="Toggle sidebar">
            &#9776;
          </button>
          <div class="topbar-logo" aria-label="OPSCOPE">
            <img class="topbar-logo__img" src="assets/img/opscope-logo.png" alt="OPSCOPE" />
          </div>
          <div class="crumbs" id="crumbs">
            Subesta&ccedil;&otilde;es e Linhas de Transmiss&atilde;o
          </div>
          <div class="topbar-right">
            <div class="project-switcher">
              <span class="project-switcher__label" id="projectSelectLabel">Local ativo</span>
              <div class="project-switcher__control">
                <select id="projectSelect" aria-label="Selecionar projeto">
                  <option value="">Sem projetos</option>
                </select>
                <button id="projectManageBtn" class="btn btn--ghost btn--small" type="button">
                  Gerenciar
                </button>
              </div>
            </div>
            <div class="notify">
              <button
                id="btnBell"
                class="icon-btn"
                type="button"
                aria-label="Notifica&ccedil;&otilde;es"
                aria-expanded="false"
              >
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                  <path
                    d="M6 9a6 6 0 1 1 12 0c0 4 2 4 2 5H4c0-1 2-1 2-5Z"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.6"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M9.5 19a2.5 2.5 0 0 0 5 0"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.6"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
                <span class="bell-dot" id="bellDot" hidden></span>
              </button>
              <div id="painelLembretes" class="notify-panel" hidden>
                <div id="listaLembretes" class="lembretes"></div>
                <p id="lembretesVazio" class="empty-state">Nenhuma manutencao proxima.</p>
              </div>
            </div>
            <div class="notify">
              <button
                id="btnFeedbackInbox"
                class="icon-btn"
                type="button"
                aria-label="Feedbacks"
                aria-expanded="false"
              >
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                  <path
                    d="M4 5h16v10H7l-3 3V5Z"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.6"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M8 9h8M8 12h5"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.6"
                    stroke-linecap="round"
                  />
                </svg>
                <span class="bell-dot" id="feedbackInboxDot" hidden></span>
              </button>
              <div id="feedbackInboxPanel" class="notify-panel" hidden>
                <div id="feedbackInboxList" class="lembretes"></div>
                <p id="feedbackInboxEmpty" class="empty-state">Nenhum feedback recebido.</p>
                <button id="feedbackInboxLink" class="btn btn--ghost btn--small" type="button">
                  Ver todos
                </button>
              </div>
            </div>
            <div class="user-menu" id="userMenu">
              <button
                class="user-menu__trigger"
                id="btnUserMenu"
                type="button"
                aria-haspopup="true"
                aria-expanded="false"
              >
                <div class="user-avatar" id="userAvatar" aria-hidden="true"></div>
                <div class="user-chip" id="userChip">Denisson Silva Alves</div>
              </button>
              <div class="user-menu__panel" id="userMenuPanel" hidden>
                <div class="user-menu__summary">
                  <div class="user-avatar user-menu__avatar" id="userMenuAvatar" aria-hidden="true"></div>
                  <div class="user-menu__meta">
                    <strong id="userMenuName">Denisson Silva Alves</strong>
                    <span id="userMenuRole">Perfil</span>
                  </div>
                </div>
                <button class="user-menu__item" type="button" data-action="view-profile">
                  Ver erfil
                </button>
                <button class="user-menu__item" type="button" data-action="edit-profile">
                  Editar Perfil
                </button>
                <div class="user-menu__divider"></div>
                <button id="btnLogout" class="user-menu__item user-menu__logout" type="button">
                  Sair
                </button>
              </div>
            </div>
          </div>
        </header>
        <section class="content" id="view-root">
          <main>

  <div class="container auth-only">
    <section class="panel panel--inicio is-active" id="inicio" data-panel="inicio">
      <div id="dashboardHome" class="dashboard-home"></div>
    </section>

    <section class="panel" id="programacao" data-panel="programacao">
      <section class="card" id="painel">
        <h2>Painel de manutencoes</h2>
        <div class="stats">
          <div class="stat">
            <span id="countAgendadas">0</span>
            <small>agendadas</small>
          </div>
          <div class="stat">
            <span id="countLiberadas">0</span>
            <small>liberadas</small>
          </div>
          <div class="stat">
            <span id="countBacklog">0</span>
            <small>backlog</small>
          </div>
          <div class="stat">
            <span id="countEmExecucao">0</span>
            <small>em execucao</small>
          </div>
          <div class="stat">
            <span id="countEncerramento">0</span>
            <small>encerramento</small>
          </div>
          <div class="stat">
            <span id="countConcluidas">0</span>
            <small>concluidas</small>
          </div>
        </div>
        <p class="hint">Se a data passar sem conclusao, a manutencao vira backlog.</p>
      </section>

      <section class="card" id="lista-programacao">
        <h2>Programacao</h2>
        <div class="programacao-toolbar">
          <div class="field">
            <label for="filtroProgramacaoSubestacao">Subestacao</label>
            <select id="filtroProgramacaoSubestacao">
              <option value="">Todas</option>
            </select>
          </div>
          <div class="field">
            <label for="filtroProgramacaoStatus">Status</label>
            <select id="filtroProgramacaoStatus">
              <option value="">Todos</option>
              <option value="agendada">Agendada</option>
              <option value="liberada">Liberada</option>
              <option value="em_execucao">Em execucao</option>
              <option value="encerramento">Encerramento</option>
              <option value="hoje">Vence hoje</option>
              <option value="backlog">Backlog</option>
            </select>
          </div>
          <div class="field">
            <label for="filtroProgramacaoPeriodo">Periodo</label>
            <select id="filtroProgramacaoPeriodo">
              <option value="">Todos</option>
              <option value="hoje">Hoje</option>
              <option value="semana">Semana</option>
              <option value="mes">Mes</option>
            </select>
          </div>
        </div>
        <p id="alertaProgramacao" class="alert alert--warning" hidden></p>
        <div id="listaAgendadas" class="manutencoes"></div>
        <p id="listaAgendadasVazia" class="empty-state">Nenhuma manutencao agendada.</p>
      </section>
    </section>

    <section class="panel" id="nova" data-panel="nova">
      <section class="card" id="nova-manutencao">
        <h2>Nova manutencao</h2>
        <div class="nova-manutencao__section">
          <div class="nova-manutencao__heading">
            <div>
              <p class="nova-manutencao__heading-title">Detalhes da manutencao</p>
              <p class="nova-manutencao__heading-subtitle">
                Defina o tipo, local, prioridade e data de inicio.
              </p>
            </div>
          </div>
          <div class="form-grid nova-manutencao__grid-top">
            <div class="field">
              <label for="manutencaoProjeto">Projeto (ativo)</label>
              <select id="manutencaoProjeto">
                <option value="">Selecione</option>
              </select>
            </div>
            <div class="field">
              <label for="tipoManutencao">Tipo de manutencao</label>
              <select id="tipoManutencao">
                <option value="">Selecione um tipo</option>
              </select>
            </div>
            <div class="field" id="customTipoField" hidden>
              <label for="tituloManutencao">Tipo personalizado</label>
              <input id="tituloManutencao" type="text" placeholder="Inspecao diaria 834 - PARACATU/SOLARIG (Boa Sorte II)" />
            </div>
            <div class="field">
              <label for="subestacaoManutencao">Subestacao</label>
              <select id="subestacaoManutencao">
                <option value="">Selecione</option>
              </select>
            </div>
            <div class="field">
              <label for="equipamentoManutencao">Equipamento</label>
              <select id="equipamentoManutencao" required>
                <option value="">Selecione um equipamento</option>
              </select>
            </div>
          </div>
          <div class="form-grid nova-manutencao__grid-bottom">
            <div class="field field--date-group">
              <div class="field__label-row">
                <label for="dataManutencao">Inicio da execucao</label>
                <label class="futura-checkbox" for="futuraManutencao">
                  <input id="futuraManutencao" type="checkbox" />
                  <span>Agendar para outra data</span>
                </label>
              </div>
              <input id="dataManutencao" type="date" readonly />
            </div>
            <div class="field">
              <label for="categoriaManutencao">Categoria</label>
              <select id="categoriaManutencao" required>
                <option value="">Selecione</option>
                <option value="Preventiva">Preventiva</option>
                <option value="Corretiva">Corretiva</option>
                <option value="Preditiva">Preditiva</option>
                <option value="Melhoria">Melhoria</option>
                <option value="Emergencial">Emergencial</option>
              </select>
            </div>
            <div class="field">
              <label for="prioridadeManutencao">Prioridade</label>
              <select id="prioridadeManutencao" required>
                <option value="">Selecione</option>
                <option value="Baixa">Baixa</option>
                <option value="Media">Media</option>
                <option value="Alta">Alta</option>
                <option value="Critica">Critica</option>
              </select>
            </div>
            <div class="field">
              <label for="osReferenciaManutencao">OS / referencia</label>
              <input id="osReferenciaManutencao" type="text" required />
            </div>
          </div>
        </div>
        <div class="nova-manutencao__section">
          <div class="nova-manutencao__heading">
            <div>
              <p class="nova-manutencao__heading-title">Participantes e criticidade</p>
              <p class="nova-manutencao__heading-subtitle">
                Identifique a equipe responsavel e o nivel de risco da atividade.
              </p>
            </div>
          </div>
          <div class="form-grid">
            <div class="field" data-full>
              <label for="participantesManutencao">Participantes (separe por ;)</label>
              <textarea
                id="participantesManutencao"
                class="multi-select"
                rows="2"
                placeholder="Ex: Denisson; Leonardo; Manoel"
                required
              ></textarea>
              <p class="hint">Informe ao menos 2 participantes.</p>
              <p id="participantesManutencaoErro" class="field-error" hidden></p>
            </div>
            <div class="field">
              <label for="criticoManutencao">Trabalho critico?</label>
              <select id="criticoManutencao" required>
                <option value="nao">Nao</option>
                <option value="sim">Sim</option>
              </select>
            </div>
          </div>
        </div>
        <div class="nova-manutencao__section">
          <div class="nova-manutencao__heading">
            <div>
              <p class="nova-manutencao__heading-title">Documentos obrigatorios</p>
              <p class="nova-manutencao__heading-subtitle">
                Anexe as evidencias exigidas antes de iniciar a execucao.
              </p>
            </div>
          </div>
          <div class="field" data-full>
            <div class="doc-grid">
              <div class="doc-item" data-doc="apr">
                <div class="doc-head">
                  <span>APR*</span>
                  <button class="btn btn--ghost btn--small" type="button" data-nova-doc-view="apr" disabled>
                    Visualizar
                  </button>
                </div>
                <div class="doc-actions">
                  <button class="btn btn--ghost btn--small" type="button" data-nova-doc-btn="apr">Anexar</button>
                  <input id="novaApr" type="file" accept=".pdf,image/*" data-nova-doc-input="apr" hidden />
                  <span class="doc-name" data-nova-doc-name="apr">Nenhum arquivo</span>
                </div>
              </div>
              <div class="doc-item" data-doc="os">
                <div class="doc-head">
                  <span>OS*</span>
                  <button class="btn btn--ghost btn--small" type="button" data-nova-doc-view="os" disabled>
                    Visualizar
                  </button>
                </div>
                <div class="doc-actions">
                  <button class="btn btn--ghost btn--small" type="button" data-nova-doc-btn="os">Anexar</button>
                  <input id="novaOsDoc" type="file" accept=".pdf,image/*" data-nova-doc-input="os" hidden />
                  <span class="doc-name" data-nova-doc-name="os">Nenhum arquivo</span>
                </div>
              </div>
              <div class="doc-item" data-doc="pte">
                <div class="doc-head">
                  <span>PTE*</span>
                  <button class="btn btn--ghost btn--small" type="button" data-nova-doc-view="pte" disabled>
                    Visualizar
                  </button>
                </div>
                <div class="doc-actions">
                  <button class="btn btn--ghost btn--small" type="button" data-nova-doc-btn="pte">Anexar</button>
                  <input id="novaPte" type="file" accept=".pdf,image/*" data-nova-doc-input="pte" hidden />
                  <span class="doc-name" data-nova-doc-name="pte">Nenhum arquivo</span>
                </div>
              </div>
              <div class="doc-item" data-doc="pt" id="novaDocPt" hidden>
                <div class="doc-head">
                  <span id="novaPtLabel">PT*</span>
                  <button class="btn btn--ghost btn--small" type="button" data-nova-doc-view="pt" disabled>
                    Visualizar
                  </button>
                </div>
                <div class="doc-actions">
                  <button class="btn btn--ghost btn--small" type="button" data-nova-doc-btn="pt">Anexar</button>
                  <input id="novaPt" type="file" accept=".pdf,image/*" data-nova-doc-input="pt" hidden />
                  <span class="doc-name" data-nova-doc-name="pt">Nenhum arquivo</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="nova-manutencao__section">
          <div class="nova-manutencao__heading">
            <div>
              <p class="nova-manutencao__heading-title">Descricao tecnica</p>
              <p class="nova-manutencao__heading-subtitle">
                Registre o contexto e os detalhes tecnicos da demanda.
              </p>
            </div>
          </div>
          <div class="form-grid">
            <div class="field" data-full>
              <label for="obsManutencao">Descricao tecnica da demanda</label>
              <textarea
                id="obsManutencao"
                rows="3"
                placeholder="Descreva a demanda tecnica, condicoes e contexto"
                required
              ></textarea>
            </div>
          </div>
        </div>
        <button id="btnAdicionarManutencao" class="btn btn--primary">Iniciar execucao</button>
        <p class="hint">Lembretes aparecem com <strong id="diasLembrete">7</strong> dias de antecedencia.</p>
        <p id="mensagemManutencao" class="mensagem" aria-live="polite"></p>
      </section>
    </section>

    <section class="panel page-modelos" id="modelos" data-panel="modelos">
      <section class="card" id="modelosManutencao">
        <h2>Modelos e recorrencias</h2>
        <p class="hint">Crie tipos e recorrencias automaticas para aparecerem na programacao.</p>
        <div class="template-grid">
          <form id="templateForm" class="template-form">
            <div class="template-section">
              <div class="section-title">
                <h3>Identificacao</h3>
                <p>Modelo, unidade e recorrencia.</p>
              </div>
              <div class="field">
                <label for="templateNome">Nome do modelo</label>
                <input id="templateNome" type="text" placeholder="Inspecao diaria" />
                <p id="templateNomeErro" class="field-error" hidden></p>
              </div>
              <div class="field">
                <label for="templateProjeto">Projeto (ativo)</label>
                <select id="templateProjeto">
                  <option value="">Selecione</option>
                </select>
              </div>
              <div class="field">
                <label for="templateSubestacao">Subestacao</label>
                <select id="templateSubestacao">
                  <option value="">Selecione</option>
                </select>
              </div>
              <div class="field field--primary">
                <label for="templateFrequencia">Tipo de recorrencia</label>
                <select id="templateFrequencia">
                  <option value="none">Sem recorrencia (apenas modelo)</option>
                  <option value="daily">Diaria</option>
                  <option value="weekly">Semanal</option>
                  <option value="monthly">Mensal</option>
                </select>
              </div>
              <div class="field" id="templateInicioField">
                <label for="templateInicio">Data de inicio</label>
                <input id="templateInicio" type="date" />
                <p id="templateInicioErro" class="field-error" hidden></p>
              </div>
            </div>
            <div class="template-section">
              <div class="section-title">
                <h3>Regras de recorrencia</h3>
                <p>Defina periodicidade e regras por ciclo.</p>
              </div>
              <div class="field" id="templatePresets">
                <label>Presets rapidos</label>
                <div class="preset-row">
                  <button class="btn btn--ghost btn--small" type="button" data-template-preset="hv-daily">
                    Padrao HV: Diario (Seg-Sex)
                  </button>
                  <button class="btn btn--ghost btn--small" type="button" data-template-preset="weekly">
                    Semanal: 1x por semana
                  </button>
                  <button class="btn btn--ghost btn--small" type="button" data-template-preset="monthly">
                    Mensal: dia fixo
                  </button>
                </div>
              </div>
              <div class="field" id="templateDailyField" hidden>
                <div class="field-head">
                  <label>Dias da semana</label>
                  <button id="btnPresetDiasUteis" class="btn btn--ghost btn--small" type="button">
                    Somente dias uteis (Seg-Sex)
                  </button>
                </div>
                <div class="week-grid">
                  <label class="day-chip">
                    <input type="checkbox" value="1" data-template-daily-day checked />
                    <span>Segunda</span>
                  </label>
                  <label class="day-chip">
                    <input type="checkbox" value="2" data-template-daily-day checked />
                    <span>Terca</span>
                  </label>
                  <label class="day-chip">
                    <input type="checkbox" value="3" data-template-daily-day checked />
                    <span>Quarta</span>
                  </label>
                  <label class="day-chip">
                    <input type="checkbox" value="4" data-template-daily-day checked />
                    <span>Quinta</span>
                  </label>
                  <label class="day-chip">
                    <input type="checkbox" value="5" data-template-daily-day checked />
                    <span>Sexta</span>
                  </label>
                  <label class="day-chip">
                    <input type="checkbox" value="6" data-template-daily-day />
                    <span>Sabado</span>
                  </label>
                  <label class="day-chip">
                    <input type="checkbox" value="0" data-template-daily-day />
                    <span>Domingo</span>
                  </label>
                </div>
                <p id="templateDailyErro" class="field-error" hidden></p>
              </div>
              <div class="field" id="templateWeeklyDayField" hidden>
                <label for="templateWeeklyDay">Dia da semana</label>
                <select id="templateWeeklyDay">
                  <option value="1">Segunda</option>
                  <option value="2">Terca</option>
                  <option value="3">Quarta</option>
                  <option value="4">Quinta</option>
                  <option value="5">Sexta</option>
                  <option value="6">Sabado</option>
                  <option value="0">Domingo</option>
                </select>
              </div>
              <div class="field" id="templateWeeklyIntervalField" hidden>
                <label for="templateWeeklyInterval">Intervalo em semanas</label>
                <input id="templateWeeklyInterval" type="number" min="1" max="52" value="1" />
                <p id="templateWeeklyIntervalErro" class="field-error" hidden></p>
              </div>
              <div class="field" id="templateMonthlyModeField" hidden>
                <label>Regra mensal</label>
                <div class="radio-group">
                  <label class="perm-item">
                    <input type="radio" name="templateMonthlyMode" id="templateMonthlyFixed" value="fixed" checked />
                    <span>Dia fixo</span>
                  </label>
                  <label class="perm-item">
                    <input type="radio" name="templateMonthlyMode" id="templateMonthlyMulti" value="multi" />
                    <span>Dias especificos</span>
                  </label>
                </div>
              </div>
              <div class="field" id="templateMonthlyDayField" hidden>
                <label for="templateMonthlyDay">Dia do mes</label>
                <input id="templateMonthlyDay" type="number" min="1" max="31" value="10" />
                <p id="templateMonthlyDayErro" class="field-error" hidden></p>
              </div>
              <div class="field" id="templateMonthlyDaysField" data-full hidden>
                <label>Dias do mes</label>
                <input id="templateMonthlyDaysInput" type="text" placeholder="Ex.: 10, 25" />
                <div id="templateMonthlyDaysChips" class="chip-row"></div>
                <p id="templateMonthlyDaysErro" class="field-error" hidden></p>
              </div>
            </div>
            <div class="template-section">
              <div class="section-title">
                <h3>Observacoes e status</h3>
                <p>Contexto e resumo automatico.</p>
              </div>
              <div class="field" data-full>
                <label for="templateObs">Observacoes padrao do servico</label>
                <textarea id="templateObs" rows="3" placeholder="Equipe, materiais, observacoes"></textarea>
              </div>
              <div class="recurrence-summary" id="templateResumo">
                <strong>Resumo da recorrencia</strong>
                <div class="summary-lines" id="templateResumoLinhas"></div>
              </div>
              <label class="perm-item">
                <input id="templateAtivo" type="checkbox" checked />
                <span>Ativo</span>
              </label>
            </div>
            <div class="template-section template-section--actions">
              <div class="section-title">
                <h3>Acoes</h3>
                <p>Salvar ou limpar o formulario.</p>
              </div>
              <div class="manager-actions">
                <button id="btnSalvarModelo" class="btn btn--primary btn--small" type="submit">
                  Salvar modelo de recorrencia
                </button>
                <button id="btnCancelarModelo" class="btn btn--ghost btn--small" type="button">
                  Limpar formulario
                </button>
              </div>
              <p id="templateMensagem" class="mensagem" aria-live="polite"></p>
            </div>
          </form>
          <div class="template-list-panel">
            <div class="template-list-head">
              <div>
                <h3>Modelos cadastrados</h3>
                <p class="hint">Use filtros para localizar rapidamente.</p>
              </div>
            </div>
            <div class="template-toolbar">
              <div class="field">
                <label for="templateSearch">Buscar modelo</label>
                <input id="templateSearch" type="text" placeholder="Ex.: inspecao" />
              </div>
              <div class="field">
                <label for="templateFilterSubestacao">Subestacao</label>
                <select id="templateFilterSubestacao">
                  <option value="">Todas</option>
                </select>
              </div>
              <div class="field">
                <label for="templateSort">Ordenar</label>
                <select id="templateSort">
                  <option value="next">Proxima (asc)</option>
                </select>
              </div>
            </div>
            <div id="listaModelos" class="template-list"></div>
            <p id="modelosVazio" class="empty-state">Nenhum modelo cadastrado.</p>
          </div>
        </div>
      </section>
    </section>

    <section class="panel" id="execucao" data-panel="execucao">
      <section class="card">
        <h2>Execucao do dia</h2>
        <p class="hint">Priorize o que vence hoje e o que esta atrasado.</p>
        <div class="exec-grid">
          <div class="exec-column">
            <h3>Manutencoes do dia</h3>
            <div id="listaExecucaoHoje" class="manutencoes"></div>
            <p id="listaExecucaoHojeVazia" class="empty-state">Nenhuma manutencao para hoje.</p>
          </div>
          <div class="exec-column">
            <h3>Manutencoes vencidas</h3>
            <div id="listaExecucaoVencidas" class="manutencoes"></div>
            <p id="listaExecucaoVencidasVazia" class="empty-state">Nenhuma manutencao vencida.</p>
          </div>
          <div class="exec-column">
            <h3>Manutencoes criticas</h3>
            <div id="listaExecucaoCriticas" class="manutencoes"></div>
            <p id="listaExecucaoCriticasVazia" class="empty-state">Nenhuma manutencao critica.</p>
          </div>
        </div>
      </section>
    </section>

    <section class="panel" id="backlog" data-panel="backlog">
      <section class="card">
        <h2>Backlog</h2>
        <p class="hint">Itens atrasados aparecem aqui automaticamente para replanejamento.</p>
        <div id="listaBacklog" class="manutencoes"></div>
        <p id="listaBacklogVazia" class="empty-state">Nenhuma manutencao em backlog.</p>
      </section>
    </section>

    <section class="panel" id="projetos" data-panel="projetos">
      <section class="card">
        <div class="section-title">
          <h2>Locais de trabalho</h2>
          <p class="hint">Cadastre locais, equipamentos e equipe vinculada.</p>
        </div>
        <div class="project-tabs">
          <button class="tab-btn is-active" type="button" data-project-tab="lista">Projetos</button>
          <button class="tab-btn" type="button" data-project-tab="equipamentos">Equipamentos</button>
          <button class="tab-btn" type="button" data-project-tab="equipe">Equipe do projeto</button>
        </div>
        <div class="project-panel" data-project-panel="lista">
          <form id="projectForm" class="project-form">
            <input id="projectFormId" type="hidden" />
            <div class="form-grid">
              <div class="field field--full">
                <label for="projectFormSelect">Projeto para editar</label>
                <select id="projectFormSelect">
                  <option value="">Novo projeto</option>
                </select>
                <p class="hint">Selecione um projeto para editar ou deixe em branco para criar.</p>
              </div>
              <div class="field">
                <label for="projectFormCodigo">Cóigo</label>
                <input id="projectFormCodigo" type="text" placeholder="834" required />
              </div>
              <div class="field">
                <label for="projectFormNome">Nome</label>
                <input id="projectFormNome" type="text" placeholder="PARACATU/SOLARIG (Boa Sorte II)" required />
              </div>
              <div class="field">
                <label for="projectFormCliente">Cliente</label>
                <input id="projectFormCliente" type="text" placeholder="NOME DA CLIENTE" />
              </div>
              <div class="field field--full">
                <label for="projectFormDescricao">Descricao</label>
                <textarea id="projectFormDescricao" rows="2" placeholder="Detalhes do local de trabalho"></textarea>
              </div>
            </div>
            <div class="form-actions">
              <button class="btn btn--primary" type="submit">Salvar</button>
              <button class="btn btn--ghost" type="button" id="projectFormCancel">Limpar</button>
            </div>
          </form>
          <div class="report-table__wrap">
            <table class="report__table" id="projectTable">
              <thead>
                <tr>
                  <th>Codigo</th>
                  <th>Nome</th>
                  <th>Cliente</th>
                  <th>Acoes</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
        <div class="project-panel" data-project-panel="equipamentos" hidden>
          <form id="equipamentoForm" class="project-form">
            <input id="equipamentoFormId" type="hidden" />
            <div class="form-grid">
              <div class="field">
                <label for="equipamentoFormProject">Projeto</label>
                <select id="equipamentoFormProject">
                  <option value="">Selecione</option>
                </select>
                <p class="hint">Equipamentos aparecem apenas no projeto selecionado.</p>
              </div>
              <div class="field">
                <label for="equipamentoFormTag">Tag</label>
                <input id="equipamentoFormTag" type="text" placeholder="INV-01" required />
              </div>
              <div class="field">
                <label for="equipamentoFormNome">Nome</label>
                <input id="equipamentoFormNome" type="text" placeholder="Inversor Principal" required />
              </div>
              <div class="field">
                <label for="equipamentoFormCategoria">Categoria</label>
                <input id="equipamentoFormCategoria" type="text" placeholder="Inversor" />
              </div>
              <div class="field field--full">
                <label for="equipamentoFormDescricao">Descricao</label>
                <textarea id="equipamentoFormDescricao" rows="2" placeholder="Detalhes do equipamento"></textarea>
              </div>
            </div>
            <div class="form-actions">
              <button class="btn btn--primary" type="submit">Salvar</button>
              <button class="btn btn--ghost" type="button" id="equipamentoFormCancel">Limpar</button>
            </div>
          </form>
          <div class="report-table__wrap">
            <table class="report__table" id="equipamentoTable">
              <thead>
                <tr>
                  <th>Tag</th>
                  <th>Nome</th>
                  <th>Categoria</th>
                  <th>Descricao</th>
                  <th>Acoes</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
        <div class="project-panel" data-project-panel="equipe" hidden>
          <form id="equipeForm" class="project-form">
            <div class="form-grid">
              <div class="field">
                <label for="equipeSearch">Buscar colaborador</label>
                <input id="equipeSearch" type="search" placeholder="Digite o nome do colaborador" />
                <p class="hint">Digite o primeiro nome para filtrar a lista abaixo.</p>
              </div>
              <div class="field field--full">
                <label for="equipeFormUser">Selecionar usuarios</label>
                <select id="equipeFormUser" multiple required></select>
              </div>
            </div>
            <div class="form-actions">
              <button class="btn btn--primary" type="submit">Adicionar</button>
            </div>
          </form>
          <div class="report-table__wrap">
            <table class="report__table" id="equipeTable">
              <thead>
                <tr>
                  <th>Nome</th>
                  <th>Cargo</th>
                  <th>Papel</th>
                  <th>Acoes</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </section>
    </section>

    <section class="panel" id="solicitacoes" data-panel="solicitacoes" data-admin-only>
      <section class="card" id="adminSolicitacoes">
        <h2>Solicitacoes pendentes</h2>
        <div id="listaSolicitacoes" class="account-list"></div>
        <p id="solicitacoesVazio" class="empty-state">Nenhuma solicitacao pendente.</p>
      </section>
    </section>

    <section class="panel" id="desempenho" data-panel="desempenho">
      <section class="card">
        <h2>Acompanhar desempenho</h2>
        <div class="kpi-grid">
          <div class="kpi-card">
            <span>Total</span>
            <strong id="kpiTotal">0</strong>
            <small>Manutencoes</small>
          </div>
          <div class="kpi-card">
            <span>Conclusao</span>
            <strong id="kpiConclusao">0%</strong>
            <small id="kpiConcluidas">0 concluidas</small>
          </div>
          <div class="kpi-card">
            <span>Backlog</span>
            <strong id="kpiBacklog">0</strong>
            <small>Pendencias</small>
          </div>
          <div class="kpi-card">
            <span>Pontualidade</span>
            <strong id="kpiPontual">0%</strong>
            <small>Concluidas no prazo</small>
          </div>
          <div class="kpi-card">
            <span>Media atraso</span>
            <strong id="kpiAtraso">0</strong>
            <small>Dias</small>
          </div>
        </div>
        <div class="performance-grid">
          <div class="performance-card">
            <div class="performance-card__header">
              <div class="performance-card__title">
                <h3>Velocidade de execucao</h3>
                <span
                  class="kpi-info kpi-info--dark"
                  data-tooltip="O que e: percentual de execucoes concluidas em ate 24h.&#10;Como calcula: concluidas no periodo com duracao <= 24h / concluidas com duracao registrada.&#10;Resultado: barra mostra %, tempo medio e ultima semana mostram a media de duracao."
                  aria-label="Detalhes da velocidade de execucao"
                >i</span>
              </div>
              <span class="badge badge--ok" id="perfExecBadge">Meta 24h</span>
            </div>
            <div class="progress" id="perfExecProgress">
              <span id="perfExecProgressValue" style="width: 0%;">0%</span>
            </div>
            <div class="performance-meta">
              <span id="perfExecTempoMedio">Tempo medio: -</span>
              <span id="perfExecSemana">Ultima semana: -</span>
            </div>
          </div>
          <div class="performance-card">
            <div class="performance-card__header">
              <div class="performance-card__title">
                <h3>SLA operacional</h3>
                <span
                  class="kpi-info kpi-info--dark"
                  data-tooltip="O que e: percentual de manutencoes concluidas no prazo programado.&#10;Como calcula: concluidas no periodo com data de conclusao <= data programada / concluidas com data programada.&#10;Resultado: barra mostra %, contadores indicam no prazo e fora do prazo."
                  aria-label="Detalhes do SLA operacional"
                >i</span>
              </div>
              <span class="badge badge--warn" id="perfSlaBadge">Atencao</span>
            </div>
            <div class="progress progress--warn" id="perfSlaProgress">
              <span id="perfSlaProgressValue" style="width: 0%;">0%</span>
            </div>
            <div class="performance-meta">
              <span id="perfSlaNoPrazo">No prazo: 0</span>
              <span id="perfSlaForaPrazo">Fora do prazo: 0</span>
            </div>
          </div>
          <div class="performance-card">
            <div class="performance-card__header">
              <div class="performance-card__title">
                <h3>Reaberturas</h3>
                <span
                  class="kpi-info kpi-info--dark"
                  data-tooltip="O que e: reaberturas de execucao (novo inicio apos conclusao).&#10;Como calcula: conta reinicios de execucao apos concluir; percentual usa concluidas no periodo.&#10;Resultado: barra mostra a taxa, ultimos 7 dias mostra volume recente."
                  aria-label="Detalhes das reaberturas"
                >i</span>
              </div>
              <span class="badge badge--ok" id="perfReopenBadge">Controlado</span>
            </div>
            <div class="progress progress--cool" id="perfReopenProgress">
              <span id="perfReopenProgressValue" style="width: 0%;">0%</span>
            </div>
            <div class="performance-meta">
              <span id="perfReopenUltimos">Ultimos 7 dias: 0</span>
              <span id="perfReopenImpacto">Impacto: baixo</span>
            </div>
          </div>
        </div>
        <div class="performance-list">
          <div class="performance-item">
            <div>
              <strong>Fila critica</strong>
              <p>Atividades acima de 48h sem resposta.</p>
            </div>
            <span class="badge badge--danger">2 itens</span>
          </div>
          <div class="performance-item">
            <div>
              <strong>Equipe em destaque</strong>
              <p>GMG BSO2 com melhor tempo medio.</p>
            </div>
            <span class="badge badge--ok">Top 1</span>
          </div>
          <div class="performance-item">
            <div>
              <strong>Previsao de pico</strong>
              <p>Quarta-feira com maior volume de OS.</p>
            </div>
            <span class="badge badge--warn">Planejar</span>
          </div>
        </div>
      </section>
    </section>

    <section class="panel performance-panel" id="performance-projects" data-panel="performance-projects">
      <section class="card">
        <h2>Desempenho por projeto</h2>
        <p class="hint">Acompanhe produtividade, backlog, criticidades e documentacoes por projeto.</p>
        <div class="programacao-toolbar">
          <div class="field">
            <label for="perfProjetoPeriodo">Periodo</label>
            <select id="perfProjetoPeriodo">
              <option value="7">Ultimos 7 dias</option>
              <option value="30" selected>Ultimos 30 dias</option>
              <option value="90">Ultimos 90 dias</option>
            </select>
          </div>
          <div class="field">
            <label for="perfProjetoFiltro">Projeto</label>
            <select id="perfProjetoFiltro">
              <option value="">Todos os projetos</option>
            </select>
          </div>
        </div>
        <div class="perf-grid" id="perfProjetoCards"></div>
        <div class="performance-insights" id="perfProjetoInsights"></div>
        <div class="report-table__wrap">
          <table class="report__table" id="perfProjetoTabela">
            <thead>
                <tr>
                  <th>Projeto</th>
                  <th>Concluidas</th>
                  <th>No prazo</th>
                  <th>SLA %</th>
                  <th>Backlog</th>
                  <th>Criticas</th>
                  <th>APR</th>
                  <th>OS</th>
                  <th>PTE</th>
                  <th>PT</th>
                </tr>
            </thead>
            <tbody></tbody>
            <tfoot>
                <tr>
                  <td>Total</td>
                  <td id="perfProjetoTotalConcluidas">0</td>
                  <td id="perfProjetoTotalPrazo">0</td>
                  <td id="perfProjetoTotalSla">0%</td>
                  <td id="perfProjetoTotalBacklog">0</td>
                  <td id="perfProjetoTotalCriticas">0</td>
                  <td id="perfProjetoTotalApr">0</td>
                  <td id="perfProjetoTotalOs">0</td>
                  <td id="perfProjetoTotalPte">0</td>
                  <td id="perfProjetoTotalPt">0</td>
                </tr>
            </tfoot>
          </table>
        </div>
      </section>
    </section>

    <section class="panel performance-panel" id="performance-people" data-panel="performance-people">
      <section class="card">
        <h2>Desempenho por colaborador</h2>
        <p class="hint">Resultados individuais de manutencoes, prazos e seguranca.</p>
        <div class="programacao-toolbar">
          <div class="field">
            <label for="perfPessoaPeriodo">Periodo</label>
            <select id="perfPessoaPeriodo">
              <option value="7">Ultimos 7 dias</option>
              <option value="30" selected>Ultimos 30 dias</option>
              <option value="90">Ultimos 90 dias</option>
            </select>
          </div>
          <div class="field">
            <label for="perfPessoaFiltro">Colaborador</label>
            <select id="perfPessoaFiltro">
              <option value="">Todos os colaboradores</option>
            </select>
          </div>
        </div>
        <div class="perf-grid" id="perfPessoaCards"></div>
        <div class="performance-insights" id="perfPessoaInsights"></div>
        <div class="report-table__wrap">
          <table class="report__table" id="perfPessoaTabela">
            <thead>
              <tr>
                <th>Colaborador</th>
                <th>OS abertas</th>
                <th>Concluidas</th>
                <th>No prazo</th>
                <th>SLA %</th>
                <th>Backlog</th>
                <th>Criticas</th>
                <th>APR</th>
                <th>OS</th>
                <th>PTE</th>
                <th>PT</th>
              </tr>
            </thead>
            <tbody></tbody>
            <tfoot>
              <tr>
                <td>Total</td>
                <td id="perfPessoaTotalAbertas">0</td>
                <td id="perfPessoaTotalConcluidas">0</td>
                <td id="perfPessoaTotalPrazo">0</td>
                <td id="perfPessoaTotalSla">0%</td>
                <td id="perfPessoaTotalBacklog">0</td>
                <td id="perfPessoaTotalCriticas">0</td>
                <td id="perfPessoaTotalApr">0</td>
                <td id="perfPessoaTotalOs">0</td>
                <td id="perfPessoaTotalPte">0</td>
                <td id="perfPessoaTotalPt">0</td>
              </tr>
            </tfoot>
          </table>
        </div>
      </section>
    </section>

    <section class="panel" id="tendencias" data-panel="tendencias">
      <section class="card">
        <h2>KPIs e tendencias</h2>
        <div class="programacao-toolbar">
          <div class="field">
            <label for="kpiPeriodo">Periodo</label>
            <select id="kpiPeriodo">
              <option value="7">7d</option>
              <option value="30" selected>30d</option>
              <option value="90">90d</option>
            </select>
          </div>
          <div class="field">
            <label for="kpiSubestacao">Subestacao</label>
            <select id="kpiSubestacao">
              <option value="">Todas</option>
            </select>
          </div>
          <div class="field">
            <label for="kpiCategoria">Categoria</label>
            <select id="kpiCategoria">
              <option value="">Todas</option>
            </select>
          </div>
          <div class="field">
            <label for="kpiPrioridade">Prioridade</label>
            <select id="kpiPrioridade">
              <option value="">Todas</option>
            </select>
          </div>
        </div>
        <p class="hint">Painel somente leitura para acompanhamento gerencial.</p>
      </section>
      <section class="card">
        <h2>Resumo gerencial</h2>
        <div id="kpiCards" class="kpi-grid kpi-grid--gerencial"></div>
      </section>
      <section class="card">
        <h2>Tendencias semanais</h2>
        <div class="account-grid">
          <div>
            <h3>Concluidas vs Backlog</h3>
            <div id="kpiTrendChart" class="chart"></div>
          </div>
          <div>
            <h3>Backlog aging</h3>
            <div id="kpiAgingChart" class="chart"></div>
          </div>
          <div>
            <h3>SLA compliance</h3>
            <div id="kpiSlaChart" class="chart"></div>
          </div>
        </div>
      </section>
      <section class="card">
        <h2>Gestao por usuario</h2>
        <div class="programacao-toolbar">
          <div class="field">
            <label for="kpiUsuarioFiltro">Usuario</label>
            <select id="kpiUsuarioFiltro">
              <option value="">Todos</option>
            </select>
          </div>
        </div>
        <div id="kpiRanking"></div>
        <p id="kpiRankingVazio" class="empty-state" hidden>Nenhum dado para o filtro.</p>
      </section>
      <section class="card">
        <h2>Drill-down</h2>
        <div class="programacao-toolbar">
          <div class="field">
            <label for="kpiDrilldownLimite">Mostrar</label>
            <select id="kpiDrilldownLimite">
              <option value="10">10</option>
              <option value="25" selected>25</option>
              <option value="50">50</option>
            </select>
          </div>
        </div>
        <p id="kpiDrilldownTitulo" class="hint">Clique em um KPI ou grafico para listar.</p>
        <div id="kpiDrilldownTabela"></div>
        <p id="kpiDrilldownVazio" class="empty-state" hidden>Nenhum item encontrado.</p>
      </section>
    </section>

    <section class="panel page-relatorios" id="relatorios" data-panel="relatorios">
      <section class="card">
        <div class="report-header">
          <div>
            <h2>Central de relatorios</h2>
            <p class="hint">
              Consolide manutencoes, evidencias e indicadores em relatorios completos para engenharia e gestao.
            </p>
          </div>
          <div class="report-actions">
            <button id="btnRelatoriosExportar" class="btn btn--ghost btn--small" type="button">
              Exportar PDF
            </button>
            <button id="btnRelatoriosResumo" class="btn btn--primary btn--small" type="button">
              Gerar resumo mensal
            </button>
          </div>
        </div>
        <div class="report-toolbar">
          <div class="field">
            <label for="relatorioPeriodo">Periodo</label>
            <select id="relatorioPeriodo">
              <option value="7">Ultimos 7 dias</option>
              <option value="30" selected>Ultimos 30 dias</option>
              <option value="90">Ultimos 90 dias</option>
            </select>
          </div>
          <div class="field">
            <label for="relatorioStatus">Status</label>
            <select id="relatorioStatus">
              <option value="">Todos</option>
              <option value="concluido">Concluido</option>
              <option value="em-andamento">Em andamento</option>
              <option value="pendente">Pendente</option>
            </select>
          </div>
          <div class="field">
            <label for="relatorioResponsavel">Responsavel</label>
            <select id="relatorioResponsavel">
              <option value="">Todas as equipes</option>
            </select>
          </div>
          <div class="field">
            <label for="relatorioTipoFiltro">Tipo</label>
            <select id="relatorioTipoFiltro">
              <option value="">Todos</option>
              <option value="preventiva">Preventiva</option>
              <option value="corretiva">Corretiva</option>
              <option value="preditiva">Preditiva</option>
            </select>
          </div>
        </div>
        <div class="report-summary-grid">
          <div class="report-summary">
            <span>Manutencoes no periodo</span>
            <strong id="relatorioResumoTotal">0</strong>
            <small id="relatorioResumoConcluidas">0 concluidas</small>
          </div>
          <div class="report-summary">
            <span>Indicadores criticos</span>
            <strong id="relatorioResumoCriticos">0</strong>
            <small id="relatorioResumoAlertas">Alertas priorizados</small>
          </div>
          <div class="report-summary">
            <span>Evidencias anexadas</span>
            <strong id="relatorioResumoEvidencias">0</strong>
            <small id="relatorioResumoEvidenciasLabel">Fotos, PDFs e registros</small>
          </div>
          <div class="report-summary">
            <span>SLA operacional</span>
            <strong id="relatorioResumoSla">0%</strong>
            <small id="relatorioResumoSlaLabel">Conformidade no prazo</small>
          </div>
        </div>
      </section>
      <section class="card">
        <div class="report-header">
          <div>
            <h2>Relatorio mensal</h2>
            <p class="hint">
              Compilacao completa do dia 1 ate o ultimo dia do mes, pronta para envio ao cliente.
            </p>
          </div>
        </div>
        <div class="report-monthly-grid">
          <div class="field">
            <label for="relatorioMes">Mes de referencia</label>
            <input id="relatorioMes" type="month" />
          </div>
          <div class="field">
            <label for="relatorioInicioMensal">Periodo inicio</label>
            <input id="relatorioInicioMensal" type="date" />
          </div>
          <div class="field">
            <label for="relatorioFimMensal">Periodo fim</label>
            <input id="relatorioFimMensal" type="date" />
          </div>
          <div class="field">
            <label for="relatorioCliente">Cliente</label>
            <select id="relatorioCliente">
              <option value="Solarig" selected>Solarig</option>
            </select>
          </div>
        </div>
        <div class="report-scope">
          <h3>Escopo automatico do relatorio</h3>
          <ul class="checklist">
            <li><span class="is-ok">●</span> Manutencoes programadas e executadas</li>
            <li><span class="is-ok">●</span> Logs, incidentes e desvios de SLA</li>
            <li><span class="is-ok">●</span> Evidencias tecnicas e anexos por equipe</li>
            <li><span class="is-ok">●</span> Indicadores operacionais e comparativos</li>
            <li><span class="is-ok">●</span> Analise tecnica e recomendacoes</li>
          </ul>
        </div>
        <div class="report-actions">
          <button id="btnRelatorioMensalPreview" class="btn btn--ghost btn--small" type="button">
            Preview
          </button>
          <button id="btnRelatorioMensalExportar" class="btn btn--primary btn--small" type="button">
            Exportar PDF mensal
          </button>
          <button id="btnRelatorioMensalRdo" class="btn btn--ghost btn--small" type="button">
            Gerar RDO mensal
          </button>
        </div>
      </section>
      <section class="card">
        <h2>Relatorios de manutencao</h2>
        <p class="hint">Cada manutencao concluida gera um relatorio auditavel.</p>
        <div id="listaRelatorios" class="report-list"></div>
        <p id="listaRelatoriosVazia" class="empty-state">Nenhuma manutencao concluida.</p>
      </section>
    </section>

    <section class="panel" id="rastreabilidade" data-panel="rastreabilidade" data-admin-only>
      <section class="card">
        <h2>Rastreabilidade operacional</h2>
        <p class="hint">Quem fez, o que fez e quando fez.</p>
        <div id="listaAuditoria" class="audit"></div>
        <p id="auditVazio" class="empty-state">Nenhuma acao registrada.</p>
      </section>
    </section>

    <section class="panel" id="feedbacks" data-panel="feedbacks">
  <section class="card">
    <div class="card-head">
      <div>
        <h2>Feedbacks entre colaboradores</h2>
        <p class="hint">Feedbacks sao privados entre remetente e destinatario.</p>
      </div>
      <div class="feedback-stats" id="feedbackStats">
        <div class="feedback-stat">
          <span>Recebidos</span>
          <strong id="feedbackStatReceived">0</strong>
        </div>
        <div class="feedback-stat">
          <span>Enviados</span>
          <strong id="feedbackStatSent">0</strong>
        </div>
        <div class="feedback-stat">
          <span>Nota media</span>
          <strong id="feedbackStatAvg">-</strong>
        </div>
        <div class="feedback-stat">
          <span>Novos</span>
          <strong id="feedbackStatUnread">0</strong>
        </div>
      </div>
    </div>
    <div class="feedback-grid">
      <div class="feedback-card">
        <h3>Novo feedback</h3>
        <div class="form-grid">
          <div class="field">
            <label for="feedbackTo">Para</label>
            <select id="feedbackTo">
              <option value="">Selecione um colaborador</option>
            </select>
          </div>
          <div class="field">
            <label for="feedbackScore">Avaliacao</label>
            <select id="feedbackScore">
              <option value="5">5 - Excelente</option>
              <option value="4">4 - Muito bom</option>
              <option value="3">3 - Bom</option>
              <option value="2">2 - Atencao</option>
              <option value="1">1 - Precisa melhorar</option>
            </select>
          </div>
          <div class="field" data-full>
            <label for="feedbackMessage">Mensagem</label>
            <textarea id="feedbackMessage" rows="3" placeholder="Escreva um feedback claro e respeitoso."></textarea>
          </div>
        </div>
        <div class="feedback-helper">
          <div>
            <strong>Diretrizes rapidas</strong>
            <ul>
              <li>Seja especifico no comportamento observado.</li>
              <li>Descreva impacto e sugira proximo passo.</li>
              <li>Mantenha o tom construtivo e objetivo.</li>
            </ul>
          </div>
          <div class="feedback-templates">
            <strong>Modelos de mensagem</strong>
            <div class="feedback-template-list">
              <button class="btn btn--ghost btn--small" type="button" data-feedback-template="bom">
                Elogio tecnico
              </button>
              <button class="btn btn--ghost btn--small" type="button" data-feedback-template="melhora">
                Sugestao de melhoria
              </button>
              <button class="btn btn--ghost btn--small" type="button" data-feedback-template="apoio">
                Apoio em campo
              </button>
            </div>
          </div>
        </div>
        <button id="btnEnviarFeedback" class="btn btn--primary" type="button">Enviar feedback</button>
        <p id="feedbackSendMsg" class="mensagem" aria-live="polite"></p>
      </div>
      <div class="feedback-card">
        <div class="feedback-tabs">
          <button class="btn btn--ghost btn--small is-active" type="button" data-feedback-tab="recebidos">
            Recebidos
          </button>
          <button class="btn btn--ghost btn--small" type="button" data-feedback-tab="enviados">
            Enviados
          </button>
        </div>
        <div class="feedback-filters">
          <div class="field">
            <label for="feedbackSearch">Buscar</label>
            <input id="feedbackSearch" type="text" placeholder="Nome ou mensagem" />
          </div>
          <div class="field">
            <label for="feedbackSort">Ordenar</label>
            <select id="feedbackSort">
              <option value="recent">Mais recentes</option>
              <option value="score">Maior nota</option>
            </select>
          </div>
        </div>
        <div id="feedbackList" class="feedback-list"></div>
        <p id="feedbackEmpty" class="empty-state">Nenhum feedback ainda.</p>
      </div>
    </div>
  </section>
</section>

    <section class="panel" id="perfil" data-panel="perfil">
      <section class="card profile-card" id="perfilCard">
        <div class="profile-actions">
          <div class="profile-actions__title">
            <h2 id="perfilTitle">Meu perfil</h2>
            <span class="profile-mode" id="perfilModeBadge" hidden>Modo edi&ccedil;&atilde;o</span>
          </div>
          <div class="profile-actions__buttons" id="perfilViewActions">
            <button id="btnPerfilEditar" class="btn btn--primary btn--small" type="button">
              Editar perfil
            </button>
            <button id="btnFecharPerfil" class="btn btn--ghost btn--small" type="button">
              Fechar
            </button>
          </div>
          <div class="profile-actions__buttons" id="perfilEditActions" hidden>
            <button id="btnPerfilCancelar" class="btn btn--ghost btn--small" type="button">
              Cancelar
            </button>
            <button id="btnPerfilSalvar" class="btn btn--primary btn--small" type="button">
              Salvar altera&ccedil;&otilde;es
            </button>
          </div>
        </div>
        <div class="profile-layout">
          <div class="profile-header" id="perfilHeader">
            <div class="profile-avatar__preview" id="perfilAvatarPreview" aria-hidden="true"></div>
            <div class="profile-identity">
              <span class="profile-eyebrow">Perfil do colaborador</span>
              <strong id="perfilNome">-</strong>
              <div class="profile-subinfo">
                <span id="perfilCargo">-</span>
                <span class="dot-sep" aria-hidden="true"></span>
                <span id="perfilRole">-</span>
              </div>
              <div class="profile-chips">
                <span class="profile-chip">
                  <span class="chip-label">Matricula</span>
                  <strong id="perfilMatricula">-</strong>
                </span>
                <span class="profile-chip">
                  <span class="chip-label">UEN</span>
                  <strong id="perfilUen">-</strong>
                </span>
                <span class="profile-chip">
                  <span class="chip-label">Projeto(s)</span>
                  <strong id="perfilProjeto">-</strong>
                </span>
              </div>
              <div class="profile-avatar__mount" id="perfilAvatarActionsMount"></div>
              <p id="perfilAvatarErro" class="field-error" hidden></p>
            </div>
          </div>
          <div id="perfilEditMount"></div>
        </div>
        <div class="profile-view" id="perfilView">
          <div class="profile-section">
            <h3>Dados operacionais</h3>
            <div class="profile-grid">
              <div class="profile-item" data-full>
                <span class="account-label">Atribuicoes</span>
                <p id="perfilAtribuicoes" class="profile-text">-</p>
              </div>
              <div class="profile-item" data-full>
                <span class="account-label">Permissoes</span>
                <p id="perfilPermissoes" class="profile-text">-</p>
              </div>
              <div class="profile-item" data-full>
                <span class="account-label">Secoes</span>
                <p id="perfilSecoes" class="profile-text">-</p>
              </div>
            </div>
          </div>
        </div>
        <template id="perfilAvatarTemplate">
          <div class="profile-avatar__info">
            <span class="account-label">Foto de perfil</span>
            <p class="profile-text">PNG, JPG ou WebP at&eacute; 10 MB.</p>
            <input
              id="perfilAvatarInput"
              type="file"
              accept="image/png,image/jpeg,image/webp"
              hidden
            />
            <div class="profile-avatar__actions" id="perfilAvatarActions">
              <button id="btnAvatarChange" class="btn btn--ghost btn--small" type="button">
                Alterar foto
              </button>
              <button id="btnAvatarSave" class="btn btn--primary btn--small" type="button" disabled>
                Salvar foto
              </button>
            </div>
          </div>
        </template>
        <template id="perfilEditTemplate">
          <div class="profile-edit">
            <div class="field">
              <label for="perfilUenInput">UEN</label>
              <input id="perfilUenInput" type="text" placeholder="Informe a UEN" />
            </div>
            <div class="field">
              <label for="perfilProjetoInput">Projeto</label>
              <select id="perfilProjetoInput">
                <option value="">Selecione</option>
              </select>
            </div>
            <p id="perfilSaveMsg" class="field-error" hidden></p>
          </div>
        </template>
      </section>
    </section>

    <section class="panel page-gerencial" id="gerencial" data-panel="gerencial" data-admin-only>
      <section class="card gerencial-shell">
        <div class="gerencial-head">
          <div>
            <h2>Painel gerencial</h2>
            <p class="hint">Ferramentas exclusivas do administrador.</p>
          </div>
          <div class="gerencial-head__actions">
            <div class="field field--compact">
              <label for="gerencialPaletteTrigger">Buscar modulo ou acao</label>
              <input id="gerencialPaletteTrigger" type="search" placeholder="Ctrl+K para buscar" />
            </div>
            <button id="btnGerencialPalette" class="btn btn--ghost btn--small" type="button">Buscar</button>
          </div>
        </div>
        <div class="gerencial-meta">
          <span id="gerencialUpdateMessage" class="hint"></span>
          <span id="gerencialLastUpdate" class="hint"></span>
        </div>

        <div class="gerencial-indicators">
          <div
            class="indicator-card"
            data-tab-target="diagnostico"
            data-permission="verDiagnostico"
            data-indicator="diagnostico"
            role="button"
            tabindex="0"
          >
            <span class="indicator-card__icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" focusable="false">
                <path
                  d="M4 4h16v5H4V4Zm0 7h10v5H4v-5Zm12 0h4v9h-4v-9ZM4 18h10v2H4v-2Z"
                  fill="currentColor"
                />
              </svg>
            </span>
            <div class="indicator-card__body">
              <strong>Status tecnico</strong>
              <span id="indicatorHealthMeta">Diagnostico em tempo real</span>
            </div>
            <div class="indicator-card__actions">
              <span class="indicator-card__count" id="indicatorHealthCount">-</span>
              <button
                class="btn btn--ghost btn--small indicator-card__action"
                type="button"
                data-action="open-diagnostico"
              >
                Ver
              </button>
            </div>
            <span class="indicator-card__badge" id="indicatorHealthBadge">-</span>
          </div>
          <div
            class="indicator-card"
            data-tab-target="logs"
            data-permission="verLogsAPI"
            data-indicator="logs"
            role="button"
            tabindex="0"
          >
            <span class="indicator-card__icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" focusable="false">
                <path
                  d="M5 4h10l4 4v12H5V4Zm10 1.5V8h3.5L15 5.5ZM7 12h10v2H7v-2Zm0-4h6v2H7V8Zm0 8h10v2H7v-2Z"
                  fill="currentColor"
                />
              </svg>
            </span>
            <div class="indicator-card__body">
              <strong>Erros de API</strong>
              <span id="indicatorLogsMeta">Ultimas requisicoes</span>
            </div>
            <div class="indicator-card__actions">
              <span class="indicator-card__count" id="indicatorLogsCount">-</span>
              <button
                class="btn btn--ghost btn--small indicator-card__action"
                type="button"
                data-action="open-logs"
              >
                Ver logs
              </button>
            </div>
            <span class="indicator-card__badge" id="indicatorLogsBadge">-</span>
          </div>
          <div
            class="indicator-card"
            data-tab-target="arquivos"
            data-permission="verArquivos"
            data-indicator="arquivos"
            role="button"
            tabindex="0"
          >
            <span class="indicator-card__icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" focusable="false">
                <path
                  d="M4 5h6l2 2h8v12H4V5Zm2 6h12v2H6v-2Zm0 4h8v2H6v-2Z"
                  fill="currentColor"
                />
              </svg>
            </span>
            <div class="indicator-card__body">
              <strong>Arquivos ativos</strong>
              <span id="indicatorFilesMeta">Central de documentos</span>
            </div>
            <div class="indicator-card__actions">
              <span class="indicator-card__count" id="indicatorFilesCount">-</span>
              <button
                class="btn btn--ghost btn--small indicator-card__action"
                type="button"
                data-action="open-arquivos"
              >
                Ver arquivos
              </button>
            </div>
            <span class="indicator-card__badge" id="indicatorFilesBadge">-</span>
          </div>
          <div
            class="indicator-card"
            data-tab-target="automacoes"
            data-permission="verAutomacoes"
            data-indicator="automacoes"
            role="button"
            tabindex="0"
          >
            <span class="indicator-card__icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" focusable="false">
                <path
                  d="M7 2h10v4h4v10h-4v4H7v-4H3V6h4V2Zm2 4v12h6V6H9Z"
                  fill="currentColor"
                />
              </svg>
            </span>
            <div class="indicator-card__body">
              <strong>Automacoes</strong>
              <span id="indicatorAutomationsMeta">Rotinas em execucao</span>
            </div>
            <div class="indicator-card__actions">
              <span class="indicator-card__count" id="indicatorAutomationsCount">-</span>
              <button
                class="btn btn--ghost btn--small indicator-card__action"
                type="button"
                data-action="open-automacoes"
              >
                Ver regras
              </button>
            </div>
            <span class="indicator-card__badge" id="indicatorAutomationsBadge">-</span>
          </div>
        </div>
        <div class="gerencial-tabs" role="tablist" aria-label="Modulos gerenciais">
          <button class="gerencial-tab is-active" type="button" role="tab" data-tab-target="geral">Geral</button>
          <button class="gerencial-tab" type="button" role="tab" data-tab-target="diagnostico" data-permission="verDiagnostico">
            Diagnostico
          </button>
          <button class="gerencial-tab" type="button" role="tab" data-tab-target="logs" data-permission="verLogsAPI">
            Logs de API
          </button>
          <button class="gerencial-tab" type="button" role="tab" data-tab-target="permissoes">
            Permissoes
          </button>
          <button class="gerencial-tab" type="button" role="tab" data-tab-target="arquivos" data-permission="verArquivos">
            Arquivos
          </button>
          <button class="gerencial-tab" type="button" role="tab" data-tab-target="automacoes" data-permission="verAutomacoes">
            Automacoes
          </button>
          <button class="gerencial-tab" type="button" role="tab" data-tab-target="operacoes">
            Operacoes
          </button>
        </div>

        <div class="gerencial-content">
          <section class="gerencial-panel is-active" role="tabpanel" data-tab-panel="geral">
            <div class="gerencial-overview">
              <div class="overview-card">
                <h3>Resumo rapido</h3>
                <ul class="overview-list">
                  <li><span>Alertas ativos</span><strong>3</strong></li>
                  <li><span>Erros de API</span><strong>2</strong></li>
                  <li><span>Arquivos pendentes</span><strong>4</strong></li>
                  <li><span>Permissoes criticas</span><strong>1</strong></li>
                </ul>
              </div>
              <div class="overview-card">
                <h3>Acoes rapidas</h3>
                <div class="overview-actions">
                  <button id="btnGerencialRefreshAll" class="btn btn--primary btn--small" type="button">
                    Atualizar painel
                  </button>
                  <button id="btnGerencialGoLogs" class="btn btn--ghost btn--small" type="button">
                    Ir para logs
                  </button>
                  <button id="btnGerencialGoPermissoes" class="btn btn--ghost btn--small" type="button">
                    Ajustar permissoes
                  </button>
                </div>
                <p class="hint">Atalhos para funcoes criticas do dia.</p>
              </div>
            </div>
          </section>

          <section class="gerencial-panel" role="tabpanel" data-tab-panel="diagnostico">
            <section class="card" id="gerencialHealth">
              <div class="card-head">
                <div>
                  <h2>Diagnostico do sistema</h2>
                  <p class="hint">Status tecnico dos modulos e integridade dos dados.</p>
                </div>
                <div class="card-actions">
                  <button id="btnHealthRunAll" class="btn btn--primary btn--small" type="button">
                    Reexecutar tudo
                  </button>
                  <button id="btnRefreshHealth" class="btn btn--ghost btn--small" type="button">Atualizar</button>
                </div>
              </div>
              <div id="healthSummary" class="health-grid"></div>
              <div class="health-section">
                <h3>Fila de tarefas automaticas</h3>
                <div id="healthTasks" class="health-tasks"></div>
              </div>
              <div class="health-section">
                <h3>Integridade de dados</h3>
                <div id="healthIntegrity" class="health-integrity"></div>
              </div>
              <p id="healthMessage" class="mensagem" aria-live="polite"></p>
            </section>
          </section>

          <section class="gerencial-panel" role="tabpanel" data-tab-panel="logs">
            <section class="card" id="gerencialLogs">
              <div class="card-head">
                <div>
                  <h2>Logs de API</h2>
                  <p class="hint">Historico tecnico das requisicoes mais recentes.</p>
                </div>
                <div class="card-actions">
                  <button id="btnLogsExport" class="btn btn--primary btn--small" type="button">Exportar</button>
                  <button id="btnLogsRefresh" class="btn btn--ghost btn--small" type="button">Atualizar</button>
                </div>
              </div>
              <div class="logs-toolbar">
                <div class="field">
                  <label for="logsFilterEndpoint">Endpoint</label>
                  <input id="logsFilterEndpoint" type="text" placeholder="/api/maintenance" />
                </div>
                <div class="field">
                  <label for="logsFilterUser">Usuario/ID</label>
                  <input id="logsFilterUser" type="text" placeholder="userId" />
                </div>
                <div class="field">
                  <label for="logsFilterStatus">Status</label>
                  <select id="logsFilterStatus">
                    <option value="">Todos</option>
                    <option value="error">Erros (4xx/5xx)</option>
                    <option value="4xx">HTTP 4xx</option>
                    <option value="5xx">HTTP 5xx</option>
                  </select>
                </div>
                <div class="field">
                  <label for="logsFilterFrom">De</label>
                  <input id="logsFilterFrom" type="date" />
                </div>
                <div class="field">
                  <label for="logsFilterTo">Ate</label>
                  <input id="logsFilterTo" type="date" />
                </div>
                <div class="logs-actions">
                  <button id="btnLogsApply" class="btn btn--ghost btn--small" type="button">Aplicar</button>
                  <button id="btnLogsClear" class="btn btn--ghost btn--small" type="button">Limpar</button>
                </div>
              </div>
              <div id="apiLogsTable" class="logs-table"></div>
              <p id="apiLogsEmpty" class="empty-state" hidden>Nenhum log encontrado.</p>
              <div class="logs-footer">
                <button id="btnLogsLoadMore" class="btn btn--ghost btn--small" type="button">Carregar mais</button>
                <span id="apiLogsCount" class="hint"></span>
              </div>
              <p id="apiLogsMessage" class="mensagem" aria-live="polite"></p>
            </section>
          </section>

          <section class="gerencial-panel" role="tabpanel" data-tab-panel="permissoes">
            <section class="card" id="gerencialPermissoes">
              <div class="card-head">
                <div>
                  <h2>Permissoes granulares</h2>
                  <p class="hint">Defina acessos por perfil para funcoes criticas.</p>
                </div>
                <button id="btnPermissoesSalvar" class="btn btn--primary btn--small" type="button">
                  Salvar permissoes
                </button>
              </div>
              <div class="permissions-toolbar">
                <div id="permissoesSummary" class="permissions-summary"></div>
                <div class="field field--compact">
                  <label for="permissoesSearch">Filtrar permissoes</label>
                  <input id="permissoesSearch" type="search" placeholder="Buscar por modulo ou acao" />
                </div>
              </div>
              <div id="permissoesList" class="permissions-grid"></div>
              <p id="permissoesMessage" class="mensagem" aria-live="polite"></p>
            </section>
          </section>

          <section class="gerencial-panel" role="tabpanel" data-tab-panel="arquivos">
            <section class="card" id="gerencialFiles">
              <div class="card-head">
                <div>
                  <h2>Arquivos do sistema</h2>
                  <p class="hint">Anexos operacionais e evidencias centralizadas.</p>
                </div>
                <button id="btnFilesRefresh" class="btn btn--ghost btn--small" type="button">Atualizar</button>
              </div>
              <div class="files-toolbar">
                <div class="field">
                  <label for="filesFilterType">Tipo</label>
                  <select id="filesFilterType">
                    <option value="">Todos</option>
                    <option value="evidence">Evidencias</option>
                    <option value="rdo">Anexos de RDO</option>
                    <option value="audit">Documentos de auditoria</option>
                  </select>
                </div>
                <div class="field">
                  <label for="filesSearch">Buscar</label>
                  <input id="filesSearch" type="text" placeholder="Nome do arquivo" />
                </div>
                <div class="field">
                  <label for="filesUploadType">Tipo do upload</label>
                  <select id="filesUploadType">
                    <option value="">Selecionar</option>
                    <option value="evidence">Evidencias</option>
                    <option value="rdo">Anexos de RDO</option>
                    <option value="audit">Documentos de auditoria</option>
                  </select>
                </div>
                <div class="files-actions">
                  <input id="filesUploadInput" type="file" accept=".pdf,.png,.jpg,.jpeg,.docx" />
                  <button id="btnFilesUpload" class="btn btn--primary btn--small" type="button">Enviar</button>
                </div>
              </div>
              <small class="hint">PDF, PNG, JPG ou DOCX ate 10 MB por arquivo.</small>
              <div id="filesList" class="files-list"></div>
              <p id="filesEmpty" class="empty-state" hidden>Nenhum arquivo encontrado.</p>
              <p id="filesMessage" class="mensagem" aria-live="polite"></p>
            </section>
          </section>

          <section class="gerencial-panel" role="tabpanel" data-tab-panel="automacoes">
            <section class="card" id="gerencialAutomations">
              <div class="card-head">
                <div>
                  <h2>Automacoes (MVP)</h2>
                  <p class="hint">Gatilhos iniciais para manutencoes criticas.</p>
                </div>
                <button id="btnAutomationRefresh" class="btn btn--ghost btn--small" type="button">Atualizar</button>
              </div>
              <div id="automationList" class="automation-list"></div>
              <p id="automationMessage" class="mensagem" aria-live="polite"></p>
            </section>
          </section>

          <section class="gerencial-panel" role="tabpanel" data-tab-panel="operacoes">
            <section class="card">
              <div class="manager-grid">
                <div class="manager-card">
                  <h3>Configuracoes</h3>
                  <div class="field">
                    <label for="configDiasLembrete">Dias de lembrete</label>
                    <input id="configDiasLembrete" type="number" min="1" max="60" />
                  </div>
                  <button id="btnSalvarConfig" class="btn btn--primary btn--small" type="button">
                    Salvar
                  </button>
                </div>
                <div class="manager-card">
                  <h3>Backup de dados</h3>
                  <div class="manager-actions">
                    <button id="btnExportarDados" class="btn btn--ghost btn--small" type="button">
                      Exportar JSON
                    </button>
                    <input id="inputImportarDados" type="file" accept="application/json" />
                    <button id="btnImportarDados" class="btn btn--ghost btn--small" type="button">
                      Importar
                    </button>
                  </div>
                </div>
                <div class="manager-card">
                  <h3>Limpezas controladas</h3>
                  <div class="field">
                    <label for="inputDiasLimpeza">Dias para limpar concluidas</label>
                    <input id="inputDiasLimpeza" type="number" min="1" max="365" value="30" />
                  </div>
                  <div class="manager-actions">
                    <button id="btnLimparConcluidas" class="btn btn--ghost btn--small" type="button">
                      Limpar concluidas
                    </button>
                    <button id="btnLimparAuditoria" class="btn btn--ghost btn--small" type="button">
                      Limpar auditoria
                    </button>
                  </div>
                </div>
                <div class="manager-card">
                  <h3>Atualizacao operacional</h3>
                  <div class="manager-actions">
                    <button id="btnRecalcularBacklog" class="btn btn--ghost btn--small" type="button">
                      Recalcular backlog
                    </button>
                    <button id="btnGerarRelatorio" class="btn btn--ghost btn--small" type="button">
                      Gerar relatorio
                    </button>
                  </div>
                  <div id="relatorioGerencial" class="manager-report"></div>
                </div>
              </div>
              <p id="mensagemGerencial" class="mensagem" aria-live="polite"></p>
            </section>
          </section>
        </div>
      </section>

      <div id="gerencialPalette" class="command-palette" hidden>
        <div class="command-palette__overlay" data-palette-close></div>
        <div class="command-palette__panel" role="dialog" aria-modal="true" aria-label="Buscar modulo ou acao">
          <div class="command-palette__header">
            <span class="command-palette__kicker">Command Palette</span>
            <button class="btn btn--ghost btn--small" type="button" data-palette-close>Fechar</button>
          </div>
          <input
            id="gerencialPaletteInput"
            type="search"
            placeholder="Digite para buscar modulos e acoes"
            autocomplete="off"
          />
          <div id="gerencialPaletteList" class="command-palette__list"></div>
        </div>
      </div>
    </section>
<section class="panel" id="contas" data-panel="contas" data-admin-only>
      <section class="card" id="adminUsuarios">
        <h2>Contas ativas</h2>
        <div class="invite-bar">
          <div class="field">
            <label for="inviteRole">Perfil do convite</label>
            <select id="inviteRole">
              <option value="T&Eacute;CNICO J&Uacute;NIOR">T&Eacute;CNICO J&Uacute;NIOR</option>
              <option value="T&Eacute;CNICO PLENO">T&Eacute;CNICO PLENO</option>
              <option value="T&Eacute;CNICO S&Ecirc;NIOR">T&Eacute;CNICO S&Ecirc;NIOR</option>
              <option value="SUPERVISOR O&amp;M">SUPERVISOR O&amp;M</option>
              <option value="GERENTE DE CONTRATO">GERENTE DE CONTRATO</option>
              <option value="DIRETOR O&amp;M">DIRETOR O&amp;M</option>
              <option value="PCM">PCM</option>
            </select>
          </div>
          <button id="btnGerarConvite" class="btn btn--primary btn--small" type="button">
            Gerar convite
          </button>
          <p id="inviteResultado" class="hint"></p>
        </div>
        <div class="account-filters">
          <div class="field">
            <label for="userFiltroNome">Buscar por nome</label>
            <input id="userFiltroNome" type="text" placeholder="Nome do colaborador" />
          </div>
          <div class="field">
            <label for="userFiltroCargo">Cargo</label>
            <input id="userFiltroCargo" type="text" placeholder="Cargo" />
          </div>
          <div class="field">
            <label for="userFiltroProjeto">Projeto / Localizacao</label>
            <input id="userFiltroProjeto" type="text" placeholder="Projeto ou local" />
          </div>
          <div class="field">
            <label for="userFiltroStatus">Status</label>
            <select id="userFiltroStatus">
              <option value="">Todos</option>
              <option value="active">Ativos</option>
              <option value="inactive">Inativos</option>
            </select>
          </div>
          <button id="btnLimparFiltroUsuarios" class="btn btn--ghost btn--small" type="button">
            Limpar filtros
          </button>
        </div>
        <div id="listaUsuarios" class="account-list"></div>
        <p id="usuariosVazio" class="empty-state">Nenhuma conta cadastrada.</p>
      </section>
    </section>
  </div>

  <div id="userDrawer" class="drawer" hidden>
    <div class="drawer__backdrop" data-drawer-close></div>
    <div class="drawer__panel">
      <div class="drawer__header">
        <div>
          <h3>Perfil do colaborador</h3>
          <p id="drawerSubtitle" class="hint">Dados gerais e permiss&otilde;es</p>
        </div>
        <button id="btnFecharUserDrawer" class="btn btn--ghost btn--icon" type="button" aria-label="Fechar">
          <span aria-hidden="true">x</span>
        </button>
      </div>
      <form id="userDrawerForm" class="drawer__body">
        <input id="drawerUserId" type="hidden" />
        <div class="form-grid">
          <div class="field">
            <label for="drawerNome">Nome completo</label>
            <input id="drawerNome" type="text" />
          </div>
          <div class="field">
            <label for="drawerCargo">Cargo / Job title</label>
            <select id="drawerCargo">
              <option value="">Selecione</option>
              <option value="T&Eacute;CNICO J&Uacute;NIOR DE MANUTEN&Ccedil;&Atilde;O">T&Eacute;CNICO J&Uacute;NIOR DE MANUTEN&Ccedil;&Atilde;O</option>
              <option value="T&Eacute;CNICO PLENO DE MANUTEN&Ccedil;&Atilde;O">T&Eacute;CNICO PLENO DE MANUTEN&Ccedil;&Atilde;O</option>
              <option value="T&Eacute;CNICO S&Ecirc;NIOR DE MANUTEN&Ccedil;&Atilde;O">T&Eacute;CNICO S&Ecirc;NIOR DE MANUTEN&Ccedil;&Atilde;O</option>
              <option value="SUPERVISOR O&amp;M">SUPERVISOR O&amp;M</option>
              <option value="GERENTE DE CONTRATO">GERENTE DE CONTRATO</option>
              <option value="DIRETOR O&amp;M">DIRETOR O&amp;M</option>
              <option value="PCM">PCM</option>
            </select>
          </div>
          <div class="field">
            <label for="drawerRole">Role do sistema</label>
            <select id="drawerRole">
              <option value="tecnico_junior">T&Eacute;CNICO J&Uacute;NIOR</option>
              <option value="tecnico_pleno">T&Eacute;CNICO PLENO</option>
              <option value="tecnico_senior">T&Eacute;CNICO S&Ecirc;NIOR</option>
              <option value="supervisor_om">SUPERVISOR O&amp;M</option>
              <option value="gerente_contrato">GERENTE DE CONTRATO</option>
              <option value="diretor_om">DIRETOR O&amp;M</option>
              <option value="pcm">PCM</option>
              <option value="leitura">LEITURA</option>
            </select>
          </div>
          <div class="field">
            <label for="drawerProjeto">Projeto / Localiza&ccedil;&atilde;o</label>
            <select id="drawerProjeto">
              <option value="">Selecione</option>
            </select>
          </div>
          <div class="field field--toggle">
            <label for="drawerActive">Conta ativa</label>
            <input id="drawerActive" type="checkbox" />
          </div>
        </div>
        <div class="drawer__permissions">
          <h4>Permiss&otilde;es por m&oacute;dulo</h4>
          <div id="drawerPermissions" class="perm-groups"></div>
        </div>
        <div class="drawer__actions">
          <button id="btnSalvarUserDrawer" class="btn btn--primary" type="submit">Salvar</button>
          <button id="btnCancelarUserDrawer" class="btn btn--ghost" type="button">Cancelar</button>
        </div>
        <p id="drawerMessage" class="mensagem" aria-live="polite"></p>
      </form>
    </div>
  </div>

  <div id="modalReagendar" class="modal" hidden>
    <div class="modal__content">
      <div class="modal__header">
        <h3>Reagendar manutencao</h3>
        <button id="btnFecharReagendar" class="btn btn--ghost btn--icon" type="button" aria-label="Fechar">
          <span aria-hidden="true">x</span>
        </button>
      </div>
      <form id="formReagendar" class="modal__form">
        <input id="reagendarId" type="hidden" />
        <div class="form-grid">
          <div class="field">
            <label for="reagendarData">Nova data</label>
            <input id="reagendarData" type="date" required />
          </div>
          <div class="field">
            <label for="reagendarMotivo">Motivo</label>
            <select id="reagendarMotivo" required>
              <option value="">Selecione</option>
              <option value="Condicao climatica">Condicao climatica</option>
              <option value="Indisponibilidade operacional">Indisponibilidade operacional</option>
              <option value="Falta de equipe ou recurso">Falta de equipe ou recurso</option>
              <option value="Conflito com outra atividade">Conflito com outra atividade</option>
              <option value="Solicitacao operacional / COS">Solicitacao operacional / COS</option>
              <option value="Aguardando liberacao">Aguardando liberacao</option>
              <option value="Outros">Outros</option>
            </select>
          </div>
          <div class="field" data-full>
            <label for="reagendarObs">Observacao complementar</label>
            <textarea id="reagendarObs" rows="3" placeholder="Detalhes adicionais"></textarea>
            <p class="hint">Obrigatorio quando o motivo for Outros.</p>
          </div>
        </div>
        <div class="modal__actions">
          <button class="btn btn--primary" type="submit">Salvar reagendamento</button>
          <button id="btnCancelarReagendar" class="btn btn--ghost" type="button">Cancelar</button>
        </div>
        <p id="mensagemReagendar" class="mensagem" aria-live="polite"></p>
      </form>
    </div>
  </div>

  <div id="modalBacklogMotivo" class="modal" hidden>
    <div class="modal__content">
      <div class="modal__header">
        <h3>Motivo da nao execucao</h3>
        <button id="btnFecharBacklogMotivo" class="btn btn--ghost btn--icon" type="button" aria-label="Fechar">
          <span aria-hidden="true">x</span>
        </button>
      </div>
      <form id="formBacklogMotivo" class="modal__form">
        <input id="backlogMotivoId" type="hidden" />
        <div class="form-grid">
          <div class="field">
            <label for="backlogMotivoSelect">Motivo</label>
            <select id="backlogMotivoSelect" required>
              <option value="">Selecione</option>
              <option value="Condicao climatica">Condicao climatica</option>
              <option value="Indisponibilidade operacional">Indisponibilidade operacional</option>
              <option value="Falta de equipe ou recurso">Falta de equipe ou recurso</option>
              <option value="Conflito com outra atividade">Conflito com outra atividade</option>
              <option value="Solicitacao operacional / COS">Solicitacao operacional / COS</option>
              <option value="Aguardando liberacao">Aguardando liberacao</option>
              <option value="Outros">Outros</option>
            </select>
          </div>
          <div class="field" data-full>
            <label for="backlogMotivoObs">Observacao complementar</label>
            <textarea id="backlogMotivoObs" rows="3" placeholder="Detalhes adicionais"></textarea>
            <p class="hint">Obrigatorio quando o motivo for Outros.</p>
          </div>
        </div>
        <div class="modal__actions">
          <button class="btn btn--primary" type="submit">Salvar motivo</button>
          <button id="btnCancelarBacklogMotivo" class="btn btn--ghost" type="button">Cancelar</button>
        </div>
        <p id="mensagemBacklogMotivo" class="mensagem" aria-live="polite"></p>
      </form>
    </div>
  </div>

  <div id="modalLiberacao" class="modal" hidden>
    <div class="modal__content">
      <div class="modal__header">
        <h3>Liberar execucao</h3>
        <button id="btnFecharLiberacao" class="btn btn--ghost btn--icon" type="button" aria-label="Fechar">
          <span aria-hidden="true">x</span>
        </button>
      </div>
      <form id="formLiberacao" class="modal__form">
        <input id="liberacaoId" type="hidden" />
        <div class="form-grid">
          <div class="field">
            <label for="liberacaoOs">No OS / referencia</label>
            <input id="liberacaoOs" type="text" required />
          </div>
          <div class="field">
            <label for="liberacaoCritico">Trabalho critico?</label>
            <select id="liberacaoCritico" required>
              <option value="">Selecione</option>
              <option value="nao">Nao</option>
              <option value="sim">Sim</option>
            </select>
          </div>
          <div class="field" data-full>
            <label for="liberacaoParticipantes">Participantes (separe por ;)</label>
            <textarea
              id="liberacaoParticipantes"
              class="multi-select"
              rows="2"
              placeholder="Ex: Denisson; Leonardo; Manoel"
              required
            ></textarea>
            <p class="hint">Informe ao menos 2 participantes.</p>
            <p id="liberacaoParticipantesErro" class="field-error" hidden></p>
          </div>
          <div class="field" data-full>
            <label>Documentos obrigatorios</label>
            <div class="doc-grid">
              <div class="doc-item" data-doc="apr">
                <div class="doc-head">
                  <span>APR*</span>
                  <button class="btn btn--ghost btn--small" type="button" data-doc-view="apr" disabled>
                    Visualizar
                  </button>
                </div>
                <div class="doc-actions">
                  <button class="btn btn--ghost btn--small" type="button" data-doc-btn="apr">Anexar</button>
                  <input id="liberacaoApr" type="file" accept=".pdf,image/*" data-doc-input="apr" hidden />
                  <span class="doc-name" data-doc-name="apr">Nenhum arquivo</span>
                </div>
              </div>
              <div class="doc-item" data-doc="os">
                <div class="doc-head">
                  <span>OS*</span>
                  <button class="btn btn--ghost btn--small" type="button" data-doc-view="os" disabled>
                    Visualizar
                  </button>
                </div>
                <div class="doc-actions">
                  <button class="btn btn--ghost btn--small" type="button" data-doc-btn="os">Anexar</button>
                  <input id="liberacaoOsDoc" type="file" accept=".pdf,image/*" data-doc-input="os" hidden />
                  <span class="doc-name" data-doc-name="os">Nenhum arquivo</span>
                </div>
              </div>
              <div class="doc-item" data-doc="pte">
                <div class="doc-head">
                  <span>PTE*</span>
                  <button class="btn btn--ghost btn--small" type="button" data-doc-view="pte" disabled>
                    Visualizar
                  </button>
                </div>
                <div class="doc-actions">
                  <button class="btn btn--ghost btn--small" type="button" data-doc-btn="pte">Anexar</button>
                  <input id="liberacaoPte" type="file" accept=".pdf,image/*" data-doc-input="pte" hidden />
                  <span class="doc-name" data-doc-name="pte">Nenhum arquivo</span>
                </div>
              </div>
              <div class="doc-item" data-doc="pt" id="liberacaoDocPt" hidden>
                <div class="doc-head">
                  <span>PT*</span>
                  <button class="btn btn--ghost btn--small" type="button" data-doc-view="pt" disabled>
                    Visualizar
                  </button>
                </div>
                <div class="doc-actions">
                  <button class="btn btn--ghost btn--small" type="button" data-doc-btn="pt">Anexar</button>
                  <input id="liberacaoPt" type="file" accept=".pdf,image/*" data-doc-input="pt" hidden />
                  <span class="doc-name" data-doc-name="pt">Nenhum arquivo</span>
                </div>
              </div>
            </div>
          </div>
          <div class="field" data-full>
            <label>Checklist de liberacao</label>
            <ul id="liberacaoChecklist" class="checklist"></ul>
          </div>
        </div>
        <div class="modal__actions">
          <button class="btn btn--primary" type="submit">Salvar liberacao</button>
          <button id="btnCancelarLiberacao" class="btn btn--ghost" type="button">Cancelar</button>
        </div>
        <p id="mensagemLiberacao" class="mensagem" aria-live="polite"></p>
      </form>
    </div>
  </div>

  <div id="modalOverride" class="modal modal--override" hidden>
    <div class="modal__content">
      <div class="modal__header">
        <div>
          <h3>Justificativa obrigatoria</h3>
          <p id="overrideInfo" class="hint">Liberacao antes da data prevista.</p>
        </div>
        <button id="btnFecharOverride" class="btn btn--ghost btn--icon" type="button" aria-label="Fechar">
          <span aria-hidden="true">x</span>
        </button>
      </div>
      <form id="formOverride" class="modal__form">
        <div class="field" data-full>
          <label for="overrideMotivo">Justificativa</label>
          <textarea
            id="overrideMotivo"
            rows="3"
            placeholder="Descreva o motivo da liberacao antecipada"
            required
          ></textarea>
        </div>
        <div class="modal__actions">
          <button class="btn btn--primary" type="submit">Confirmar liberacao</button>
          <button id="btnCancelarOverride" class="btn btn--ghost" type="button">Cancelar</button>
        </div>
        <p id="overrideMensagem" class="mensagem" aria-live="polite"></p>
      </form>
    </div>
  </div>

  <div id="modalHistorico" class="modal" hidden>
    <div class="modal__content">
      <div class="modal__header">
        <h3>Historico da manutencao</h3>
        <button id="btnFecharHistorico" class="btn btn--ghost btn--icon" type="button" aria-label="Fechar">
          <span aria-hidden="true">x</span>
        </button>
      </div>
      <div id="historicoResumo" class="history-summary"></div>
      <div id="listaHistorico" class="history-list"></div>
      <div class="history-actions">
        <button id="btnHistoricoMais" class="btn btn--ghost btn--small" type="button">Mostrar mais</button>
        <button id="btnHistoricoExportar" class="btn btn--ghost btn--small" type="button">
          Exportar historico (CSV)
        </button>
        <button id="btnHistoricoExportarPdf" class="btn btn--primary btn--small" type="button">
          Exportar historico (PDF)
        </button>
      </div>
      <p id="historicoVazio" class="empty-state">Nenhum registro encontrado.</p>
    </div>
  </div>

  <div id="modalPreview" class="modal" hidden>
    <div class="modal__content">
      <div class="modal__header">
        <h3>Visualizar documento</h3>
        <button id="btnFecharPreview" class="btn btn--ghost btn--icon" type="button" aria-label="Fechar">
          <span aria-hidden="true">x</span>
        </button>
      </div>
      <iframe
        id="previewFrame"
        title="Visualizar documento"
        style="width: 100%; height: 70vh; border: 0;"
      ></iframe>
    </div>
  </div>

  <div id="modalInicioExecucao" class="modal" hidden>
    <div class="modal__content">
      <div class="modal__header">
        <h3>Iniciar execucao</h3>
        <button id="btnFecharInicioExecucao" class="btn btn--ghost btn--icon" type="button" aria-label="Fechar">
          <span aria-hidden="true">x</span>
        </button>
      </div>
      <input id="inicioExecucaoId" type="hidden" />
      <p class="hint">
        Deseja iniciar a execucao desta manutencao agora? O horario de inicio sera registrado automaticamente.
      </p>
      <div class="modal__actions">
        <button id="btnConfirmarInicioExecucao" class="btn btn--primary" type="button">Iniciar execucao</button>
        <button id="btnCancelarInicioExecucao" class="btn btn--ghost" type="button">Cancelar</button>
      </div>
      <p id="mensagemInicioExecucao" class="mensagem" aria-live="polite"></p>
    </div>
  </div>

  <div id="modalCancelarInicio" class="modal" hidden>
    <div class="modal__content">
      <div class="modal__header">
        <h3>Cancelar inicio de execucao</h3>
        <button id="btnFecharCancelarInicio" class="btn btn--ghost btn--icon" type="button" aria-label="Fechar">
          <span aria-hidden="true">x</span>
        </button>
      </div>
      <form id="formCancelarInicio" class="modal__form">
        <input id="cancelarInicioId" type="hidden" />
        <div class="form-grid">
          <div class="field">
            <label for="cancelarInicioMotivo">Motivo do cancelamento</label>
            <select id="cancelarInicioMotivo" required>
              <option value="">Selecione</option>
              <option value="Clique acidental">Clique acidental</option>
              <option value="Atividade adiada por decisao operacional">Atividade adiada por decisao operacional</option>
              <option value="Falta de liberacao / documentacao inconsistente">Falta de liberacao / documentacao inconsistente</option>
              <option value="Condicao climatica">Condicao climatica</option>
              <option value="Indisponibilidade de equipe/recurso">Indisponibilidade de equipe/recurso</option>
              <option value="Outros">Outros</option>
            </select>
          </div>
          <div class="field" data-full>
            <label for="cancelarInicioObs">Observacao</label>
            <textarea id="cancelarInicioObs" rows="3" placeholder="Detalhes do cancelamento"></textarea>
            <p class="hint">Obrigatorio quando o motivo for Outros.</p>
          </div>
        </div>
        <div class="modal__actions">
          <button class="btn btn--primary" type="submit">Confirmar cancelamento</button>
          <button id="btnCancelarCancelarInicio" class="btn btn--ghost" type="button">Voltar</button>
        </div>
        <p id="mensagemCancelarInicio" class="mensagem" aria-live="polite"></p>
      </form>
    </div>
  </div>

  <div id="modalRegistroExecucao" class="modal" hidden>
    <div class="modal__content">
      <div class="modal__header">
        <h3>Registrar execucao</h3>
        <button id="btnFecharRegistroExecucao" class="btn btn--ghost btn--icon" type="button" aria-label="Fechar">
          <span aria-hidden="true">x</span>
        </button>
      </div>
      <form id="formRegistroExecucao" class="modal__form">
        <input id="registroId" type="hidden" />
        <div class="form-grid">
          <div class="field">
            <label>Tipo</label>
            <input id="registroTipo" type="text" readonly />
          </div>
          <div class="field">
            <label>Subestacao</label>
            <input id="registroSubestacao" type="text" readonly />
          </div>
          <div class="field">
            <label>ID unico</label>
            <input id="registroCodigo" type="text" readonly />
          </div>
          <div class="field">
            <label>Aberta por</label>
            <input id="registroAbertaPor" type="text" readonly />
          </div>
          <div class="field">
            <label>Aberta em</label>
            <input id="registroAbertaEm" type="text" readonly />
          </div>
          <div class="field">
            <label for="registroExecutadaPor">Executada por</label>
            <select id="registroExecutadaPor" required></select>
          </div>
          <div class="field">
            <label for="registroInicio">Inicio da execucao</label>
            <input id="registroInicio" type="text" readonly />
          </div>
          <div class="field">
            <label>OS / referencia</label>
            <input id="registroOsNumero" type="text" readonly />
          </div>
          <div class="field" data-full>
            <label>Participantes</label>
            <input id="registroParticipantes" type="text" readonly />
          </div>
          <div class="field" data-full>
            <label>Documentos anexados</label>
            <div id="registroDocs" class="doc-list"></div>
          </div>
          <div class="field">
            <label for="registroResultado">Resultado</label>
            <select id="registroResultado" required>
              <option value="">Selecione</option>
              <option value="concluida">Concluida</option>
              <option value="ressalva">Concluida com ressalva</option>
              <option value="nao_executada">Nao executada</option>
            </select>
          </div>
          <div class="field" data-full>
            <label for="registroComentario">Descricao tecnica da execucao</label>
            <textarea id="registroComentario" rows="3" required></textarea>
          </div>
          <div class="field" data-full>
            <label for="registroObsExecucao">Observacao de execucao (opcional)</label>
            <textarea id="registroObsExecucao" rows="3" placeholder="Notas adicionais"></textarea>
          </div>
        </div>
        <div class="modal__actions">
          <button class="btn btn--primary" type="submit">Salvar registro</button>
          <button id="btnCancelarExecucao" class="btn btn--danger" type="button" hidden>Cancelar execucao</button>
          <button id="btnCancelarRegistroExecucao" class="btn btn--ghost" type="button">Cancelar</button>
        </div>
        <p id="mensagemRegistroExecucao" class="mensagem" aria-live="polite"></p>
      </form>
      <form id="formCancelarExecucao" class="modal__form" hidden>
        <div class="modal__header">
          <h4>Cancelar execucao</h4>
        </div>
        <div class="form-grid">
          <div class="field" data-full>
            <label for="cancelarExecucaoMotivo">Motivo do cancelamento</label>
            <textarea id="cancelarExecucaoMotivo" rows="3" required></textarea>
          </div>
        </div>
        <div class="modal__actions">
          <button class="btn btn--danger" type="submit">Confirmar</button>
          <button id="btnVoltarCancelarExecucao" class="btn btn--ghost" type="button">Voltar</button>
        </div>
        <p id="mensagemCancelarExecucao" class="mensagem" aria-live="polite"></p>
      </form>
    </div>
  </div>

  <div id="modalConclusao" class="modal" hidden>
    <div class="modal__content">
      <div class="modal__header">
        <h3>Encerrar manutencao</h3>
        <button id="btnFecharConclusao" class="btn btn--ghost btn--icon" type="button" aria-label="Fechar">
          <span aria-hidden="true">x</span>
        </button>
      </div>
      <form id="formConclusao" class="modal__form">
        <input id="conclusaoId" type="hidden" />
        <div class="form-grid">
          <div class="field">
            <label>Tipo</label>
            <input id="conclusaoTipo" type="text" readonly />
          </div>
          <div class="field">
            <label>Subestacao</label>
            <input id="conclusaoSubestacao" type="text" readonly />
          </div>
          <div class="field">
            <label>ID unico</label>
            <input id="conclusaoCodigo" type="text" readonly />
          </div>
          <div class="field">
            <label>Aberta por</label>
            <input id="conclusaoAbertaPor" type="text" readonly />
          </div>
          <div class="field">
            <label>Aberta em</label>
            <input id="conclusaoAbertaEm" type="text" readonly />
          </div>
          <div class="field">
            <label>Executada por</label>
            <input id="conclusaoExecutadaPor" type="text" readonly />
          </div>
          <div class="field">
            <label>Encerrada por</label>
            <input id="conclusaoEncerradaPor" type="text" readonly />
          </div>
          <div class="field">
            <label for="conclusaoInicio">Inicio</label>
            <input id="conclusaoInicio" type="text" readonly />
          </div>
          <div class="field">
            <label for="conclusaoFim">Fim</label>
            <input id="conclusaoFim" type="datetime-local" required />
          </div>
          <div class="field">
            <label>Tempo total</label>
            <input id="conclusaoDuracao" type="text" readonly />
          </div>
          <div class="field">
            <label>Resultado</label>
            <input id="conclusaoResultado" type="text" readonly />
          </div>
          <div class="field" data-full>
            <label for="conclusaoComentario">Descricao tecnica</label>
            <textarea id="conclusaoComentario" rows="3" readonly></textarea>
          </div>
          <div class="field" data-full>
            <label for="conclusaoObsExecucao">Observacao de execucao (opcional)</label>
            <textarea id="conclusaoObsExecucao" rows="3" readonly></textarea>
          </div>
          <div class="field" data-full>
            <label>Participantes</label>
            <input id="conclusaoParticipantes" type="text" readonly />
          </div>
          <div class="field" data-full>
            <label>Documentos anexados</label>
            <div id="conclusaoDocs" class="doc-list"></div>
          </div>
          <div class="field" data-full>
            <label for="conclusaoReferencia">No OS / referencia (obrigatorio)</label>
            <input id="conclusaoReferencia" type="text" placeholder="Ex.: OS 123456" required />
          </div>
          <div class="field" data-full>
            <label for="conclusaoEvidencia1">Evidencias (minimo 4 fotos)</label>
            <div class="evidence-picker">
              <div class="photo-slot">
                <button class="btn btn--icon btn--ghost btn--camera" type="button" data-evidencia-btn="1" aria-label="Adicionar foto 1">
                  <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                    <rect x="3" y="3" width="14" height="14" rx="2" fill="none" stroke="currentColor" stroke-width="2" />
                    <circle cx="8" cy="8" r="1.5" fill="none" stroke="currentColor" stroke-width="2" />
                    <path
                      d="M5.5 14.5l3-3 2.2 2.2 2.5-2.5 2.8 2.8"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <circle cx="18" cy="18" r="3.5" fill="none" stroke="currentColor" stroke-width="2" />
                    <path
                      d="M18 16.8v2.4m-1.2-1.2h2.4"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                    />
                  </svg>
                </button>
                <span class="photo-label" data-photo-slot="1">Foto 1*</span>
                <input id="conclusaoEvidencia1" type="file" accept="image/*" data-evidencia-input="1" hidden />
              </div>
              <div class="photo-slot">
                <button class="btn btn--icon btn--ghost btn--camera" type="button" data-evidencia-btn="2" aria-label="Adicionar foto 2">
                  <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                    <rect x="3" y="3" width="14" height="14" rx="2" fill="none" stroke="currentColor" stroke-width="2" />
                    <circle cx="8" cy="8" r="1.5" fill="none" stroke="currentColor" stroke-width="2" />
                    <path
                      d="M5.5 14.5l3-3 2.2 2.2 2.5-2.5 2.8 2.8"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <circle cx="18" cy="18" r="3.5" fill="none" stroke="currentColor" stroke-width="2" />
                    <path
                      d="M18 16.8v2.4m-1.2-1.2h2.4"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                    />
                  </svg>
                </button>
                <span class="photo-label" data-photo-slot="2">Foto 2*</span>
                <input id="conclusaoEvidencia2" type="file" accept="image/*" data-evidencia-input="2" hidden />
              </div>
              <div class="photo-slot">
                <button class="btn btn--icon btn--ghost btn--camera" type="button" data-evidencia-btn="3" aria-label="Adicionar foto 3">
                  <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                    <rect x="3" y="3" width="14" height="14" rx="2" fill="none" stroke="currentColor" stroke-width="2" />
                    <circle cx="8" cy="8" r="1.5" fill="none" stroke="currentColor" stroke-width="2" />
                    <path
                      d="M5.5 14.5l3-3 2.2 2.2 2.5-2.5 2.8 2.8"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <circle cx="18" cy="18" r="3.5" fill="none" stroke="currentColor" stroke-width="2" />
                    <path
                      d="M18 16.8v2.4m-1.2-1.2h2.4"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                    />
                  </svg>
                </button>
                <span class="photo-label" data-photo-slot="3">Foto 3*</span>
                <input id="conclusaoEvidencia3" type="file" accept="image/*" data-evidencia-input="3" hidden />
              </div>
              <div class="photo-slot">
                <button class="btn btn--icon btn--ghost btn--camera" type="button" data-evidencia-btn="4" aria-label="Adicionar foto 4">
                  <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                    <rect x="3" y="3" width="14" height="14" rx="2" fill="none" stroke="currentColor" stroke-width="2" />
                    <circle cx="8" cy="8" r="1.5" fill="none" stroke="currentColor" stroke-width="2" />
                    <path
                      d="M5.5 14.5l3-3 2.2 2.2 2.5-2.5 2.8 2.8"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <circle cx="18" cy="18" r="3.5" fill="none" stroke="currentColor" stroke-width="2" />
                    <path
                      d="M18 16.8v2.4m-1.2-1.2h2.4"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                    />
                  </svg>
                </button>
                <span class="photo-label" data-photo-slot="4">Foto 4*</span>
                <input id="conclusaoEvidencia4" type="file" accept="image/*" data-evidencia-input="4" hidden />
              </div>
            </div>
            <div id="conclusaoEvidenciasLista" class="file-list"></div>
          </div>
        </div>
        <div class="modal__actions">
          <button class="btn btn--primary" type="submit">Concluir manutencao</button>
          <button id="btnCancelarConclusao" class="btn btn--ghost" type="button">Cancelar</button>
        </div>
        <p class="hint">Preencha OS, horario de fim e evidencias para encerrar.</p>
        <p id="mensagemConclusao" class="mensagem" aria-live="polite"></p>
      </form>
    </div>
  </div>

  <div id="modalRelatorio" class="modal" hidden>
    <div class="modal__content modal__content--wide">
      <div class="modal__header">
        <h3>Relatorio de manutencao</h3>
        <button id="btnFecharRelatorio" class="btn btn--ghost btn--icon" type="button" aria-label="Fechar">
          <span aria-hidden="true">x</span>
        </button>
      </div>
      <div id="relatorioConteudo" class="report">
        <header class="report__header">
          <div class="report__brand">
            <img id="relatorioLogo" src="assets/engelmig-logo.png" alt="ENGELMIG" />
            <div>
              <strong>OPSCOPE</strong>
              <span>Relatorio de manutencao</span>
            </div>
          </div>
          <div class="report__meta">
            <span id="relatorioTipo">-</span>
            <span id="relatorioSubestacao">-</span>
            <span id="relatorioCodigo">-</span>
          </div>
        </header>
        <section class="report__body">
          <div class="report__grid">
            <div>
              <span>Aberta em</span>
              <strong id="relatorioAbertaEm">-</strong>
            </div>
            <div>
              <span>Inicio</span>
              <strong id="relatorioInicio">-</strong>
            </div>
            <div>
              <span>Fim</span>
              <strong id="relatorioFim">-</strong>
            </div>
            <div>
              <span>Tempo total</span>
              <strong id="relatorioDuracao">-</strong>
            </div>
            <div>
              <span>Aberta por</span>
              <strong id="relatorioAbertaPor">-</strong>
            </div>
            <div>
              <span>Executada por</span>
              <strong id="relatorioExecutadaPor">-</strong>
            </div>
            <div>
              <span>Encerrada por</span>
              <strong id="relatorioEncerradaPor">-</strong>
            </div>
            <div>
              <span>Resultado</span>
              <strong id="relatorioResultado">-</strong>
            </div>
            <div>
              <span>Referencia / OS</span>
              <strong id="relatorioReferencia">-</strong>
            </div>
            <div>
              <span>Emitido em</span>
              <strong id="relatorioEmitidoEm">-</strong>
            </div>
          </div>
          <div class="report__desc">
            <h4>Descricao tecnica</h4>
            <p id="relatorioDescricao">-</p>
          </div>
          <div class="report__desc">
            <h4>Observacao de execucao</h4>
            <p id="relatorioObsExecucao">-</p>
          </div>
          <div> 
            <h4>Evidencias</h4>
            <div id="relatorioEvidencias" class="report__evidencias"></div>
          </div>
        </section>
        <footer class="report__footer">
          <span>Sistema OPSCOPE</span>
        </footer>
      </div>
      <div class="modal__actions">
        <button id="btnImprimirRelatorio" class="btn btn--primary" type="button">Imprimir relatorio</button>
        <button id="btnExportarPDF" class="btn btn--ghost" type="button">Exportar PDF</button>
      </div>
    </div>
  </div>
          </main>
        </section>
      </div>
    </div>

    <div id="modalRdoMensalPreview" class="modal" hidden>
      <div class="modal__content modal__content--wide">
        <div class="modal__header">
          <div>
            <h3>Preview do RDO mensal</h3>
            <p class="hint">Somente leitura.</p>
          </div>
          <button class="btn btn--ghost btn--small" type="button" data-rdo-mensal-close>Fechar</button>
        </div>
        <div class="rdo-preview">
          <div class="rdo-preview__head">
            <strong>RDO mensal (preview)</strong>
          </div>
          <div id="rdoMensalPreviewBody"></div>
        </div>
      </div>
    </div>

    <footer class="footer auth-only">
      <p>
  © 2026. Todos os direitos reservados. OPSCOPE é propriedade de Dene. É proibida a cópia, redistribuição ou uso não autorizado do conteúdo e/ou sistema.
  <span style="opacity:.7">| build: 2026-01-19</span>
</p>
    </footer>

    <script src="app.js"></script>
  </body>
</html>





